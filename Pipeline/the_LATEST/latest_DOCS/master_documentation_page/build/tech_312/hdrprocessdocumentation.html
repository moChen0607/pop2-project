




<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HDR Batch Processor Documentation &mdash; Portal: Origins [Part 2] 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Portal: Origins [Part 2] 1.0.0 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Portal: Origins [Part 2]
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../wip/index.html">Portal Origins Part 2</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../personalprojects.html">Personal Projects</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pickrunner/pickrunner.html">Pickrunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../abs2rel/abs2rel.html">Batch Absolute Files to Relative Paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hdrprocess/hdrprocess.html">HDRi Batch Processor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Portal: Origins [Part 2]</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>HDR Batch Processor Documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/tech_312/hdrprocessdocumentation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hdr-batch-processor-documentation">
<span id="hdrprocessdocumentation"></span><h1>HDR Batch Processor Documentation<a class="headerlink" href="#hdr-batch-processor-documentation" title="Permalink to this headline">¶</a></h1>
<p>This is the full back-end documentation for hdrprocess. Unless you&#8217;re a
developer, chances are you&#8217;re looking for the
<a class="reference internal" href="hdrprocessuser.html#hdrprocess-user-guide"><span>HDR Batch Process User Guide</span></a> or a
<a class="reference internal" href="hdrprocess.html#hdrprocess"><span>General Overview of HDR Batch Process</span></a>. Otherwise that,
here&#8217;s the docs.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="python-libraries">
<h3>Python Libraries<a class="headerlink" href="#python-libraries" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://www.riverbankcomputing.com/software/pyqt/download">PyQt4</a> or
<a class="reference external" href="https://pypi.python.org/pypi/PySide/1.2.4">PySide</a>.</p>
</div>
<div class="section" id="os">
<h3>OS<a class="headerlink" href="#os" title="Permalink to this headline">¶</a></h3>
<p>Windows or Linux with WINE equivalent</p>
</div>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Get the latest repo <a class="reference external" href="https://github.com/ColinKennedy/hdrprocess">here</a> if you
haven&#8217;t already and place it anywhere within your PYTHONPATH.</p>
<p>Source the root hdrprocess folder as well as any of its dependencies and then
one could simply call the GUI using</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">hdrprocess</span><span class="o">.</span><span class="n">hdrprocess</span><span class="o">.</span><span class="n">show_gui</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="command-line-mode">
<h2>Command-Line Mode<a class="headerlink" href="#command-line-mode" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Command-line version of the utility is no longer functional, do to a major
refactoring of the code. GUI version only for now!</p>
</div>
</div>
<div class="section" id="gui-mode">
<h2>GUI Mode<a class="headerlink" href="#gui-mode" title="Permalink to this headline">¶</a></h2>
<img alt="tech_312/src/hdrprocess_interface.png" class="align-center" src="tech_312/src/hdrprocess_interface.png" />
<p>When the GUI is loaded, the main screen is displayed. On the left are all of
the user settings for the merge project, the right is for output messages about
the current job once it is running, and the bottom section is for
adding/removing images, text files, and folders</p>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="engine">
<h3>Engine<a class="headerlink" href="#engine" title="Permalink to this headline">¶</a></h3>
<p>Located at hdrprocess/controller/engine.py</p>
<p>Engine is the main interface to mkhdr. It handles all of the command-line/GUI
specific methods and args to wrap command-line calls around mkhdr, effectively
managing the process of automating the command-line tools.</p>
<span class="target" id="module-hdrprocess.controller.engine"></span><div class="section" id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>Parses commands and preps specified data before it is executed by mkhdr</p>
</div>
<div class="section" id="filename">
<h4>Filename<a class="headerlink" href="#filename" title="Permalink to this headline">¶</a></h4>
<p>engine.py</p>
<dl class="function">
<dt id="hdrprocess.controller.engine.all_same">
<code class="descclassname">hdrprocess.controller.engine.</code><code class="descname">all_same</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/engine.html#all_same"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.engine.all_same" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets every item in a list and returns True/False if they are all the same
(useful for comparing extension, for example)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>items</strong> (<em>list or iterable</em>) &#8211; The collection of values to find common value</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True or False</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.engine.filter_out_by_value">
<code class="descclassname">hdrprocess.controller.engine.</code><code class="descname">filter_out_by_value</code><span class="sig-paren">(</span><em>seq</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/engine.html#filter_out_by_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.engine.filter_out_by_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters out all values in an iterable that are not of specified value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seq</strong> (<em>list or iterable</em>) &#8211; The sequence to compare</li>
<li><strong>value</strong> (<em>any</em>) &#8211; A value to check for within seq</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An iterable that contains only each match for value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">&lt;generator&gt;</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.engine.hdr_batch_process">
<code class="descclassname">hdrprocess.controller.engine.</code><code class="descname">hdr_batch_process</code><span class="sig-paren">(</span><em>inputs</em>, <em>seqInt</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/engine.html#hdr_batch_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.engine.hdr_batch_process" title="Permalink to this definition">¶</a></dt>
<dd><p>The hdr batch process utility</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inputs</strong> (<em>list of strs</em>) &#8211; List of files and/or folders to process</li>
<li><strong>seqInt</strong> (<em>int</em>) &#8211; The number of brackets expected per HDR output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Success/Failure of the HDR batch process. 0 = Success</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.engine.parse_cmd">
<code class="descclassname">hdrprocess.controller.engine.</code><code class="descname">parse_cmd</code><span class="sig-paren">(</span><em>string_h</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/engine.html#parse_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.engine.parse_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string that represents a command-line command into something
that hdr_batch_process can use</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>string_h</strong> (<em>str</em>) &#8211; An entire command-line string to process</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary containing user arguments</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict or strs or ints</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.engine.path_leaf">
<code class="descclassname">hdrprocess.controller.engine.</code><code class="descname">path_leaf</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/engine.html#path_leaf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.engine.path_leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the last value in a given path in an OS-independent fashion</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) &#8211; The path to get the last item from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The output item</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="routine">
<h3>Routine<a class="headerlink" href="#routine" title="Permalink to this headline">¶</a></h3>
<p>Located at hdrprocess/controller/engine.py</p>
<p>OS-dependent file(s)/folder(s) getting and sorting. I debated putting this
module in model but since most of its methods sort and filter, rather than
acquire and configure data made it feel more like a controller.</p>
<span class="target" id="module-hdrprocess.controller.routine"></span><p>Deals with processing/filtering/sorting existing information, from the GUI
or simply from other modules</p>
<dl class="class">
<dt id="hdrprocess.controller.routine.Capturing">
<em class="property">class </em><code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">Capturing</code><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#Capturing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.Capturing" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to extend and capture print statements sent to stdout. Used primarily
to get relevant output information from mkhdri.exe as it executes</p>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.routine.get_sequences">
<code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">get_sequences</code><span class="sig-paren">(</span><em>filesH</em>, <em>seqInterval</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#get_sequences"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.get_sequences" title="Permalink to this definition">¶</a></dt>
<dd><p>Figures out which sequences of files belong together, first by giving
priority to files whose names are explicitly stated in parseable files, and
then the method will use a fixed number as a fallback, in case not all
files could be resolved using pre-existing metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filesH</strong> (<em>list or iterable</em>) &#8211; A collection of strings which represent
valid image files and text files. The text
files are comma-separated lists of HDR
filenames. If these files exist, the script
will group them together. Any images that
are not still not assigned are put together</li>
<li><strong>seqInterval</strong> (<em>int</em>) &#8211; The number of brackets meant to create a single HDR</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>Creates a list which contains lists which represent</dt>
<dd><p class="first last">individual HDR files. The contents of each inner list
are the files that will be used to make the HDR image</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list of lists</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.routine.process_files">
<code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">process_files</code><span class="sig-paren">(</span><em>dataH</em>, <em>allowedExtensions</em>, <em>defaultPhrases</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#process_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.process_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets files and processes a dictionary&#8217;s &#8220;item&#8221; key differently, depending
on the user&#8217;s inputs. If the dataH[&#8220;recursiveSearch&#8221;] is True, it will
collapse folders into subfolders and then into all retrieved files, for
example</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dataH</strong> (<em>dict</em>) &#8211; The data to process. Requires a key &#8220;items&#8221; to have a
list of file(s)/folder(s)</li>
<li><strong>allowedExtensions</strong> (<em>tuple of strs</em>) &#8211; A collection of strings to test as
file extensions</li>
<li><strong>defaultPhrases</strong> (<em>list or iterable</em>) &#8211; If an item in dataH[&#8220;items&#8221;] is in
defaultPhrases, it is excluded in
the output</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The processed files that made it through filtering/expansion</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.routine.sort_by_ext_and_name">
<code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">sort_by_ext_and_name</code><span class="sig-paren">(</span><em>filesH</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#sort_by_ext_and_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.sort_by_ext_and_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of objects and sorts them by their extensions, alphabetically.
For convenience, the script currently uses and external dependency called
<a class="reference external" href="httpsomeurl">natsort</a> but perhaps in the future it will be replaced
with my own method</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filesH</strong> &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A sorted sequence of files, by filename/number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.routine.test_ext_sort">
<code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">test_ext_sort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#test_ext_sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.test_ext_sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="hdrprocess.controller.routine.truncate_filename_ranges">
<code class="descclassname">hdrprocess.controller.routine.</code><code class="descname">truncate_filename_ranges</code><span class="sig-paren">(</span><em>filesH</em>, <em>maxNumber=20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/hdrprocess/controller/routine.html#truncate_filename_ranges"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#hdrprocess.controller.routine.truncate_filename_ranges" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a list of files (assumed to already be sorted) and detects range
patterns and returns first/last pairs of each given sequential range</p>
<p>If you have a file convention such as IMG_####.cr2 (very common in cameras),
the script will pick up on this convention and use it</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filesH</strong> (<em>list or iterable</em>) &#8211; A sequence of files to shorten</li>
<li><strong>maxNumber</strong> (<em>int</em>) &#8211; The max allowed number of items in a sequence. If a
sequence is truncated but it is still over the limit,
every nth element is removed until it is within
acceptable limits</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Retruns:</dt>
<dd><dl class="first last docutils">
<dt>list: A list of concatenated/removed/shortened items. No matter what,</dt>
<dd>the output is always less than maxNumber</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Colin Kennedy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>