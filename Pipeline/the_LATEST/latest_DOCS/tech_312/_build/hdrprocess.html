

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>HDR Batch Processor &mdash; VSFX 312 - Advanced Application Scripting 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="VSFX 312 - Advanced Application Scripting 1.0.0 documentation" href="index.html"/>
        <link rel="next" title="HDR Batch Processor User Guide" href="hdrprocessuser.html"/>
        <link rel="prev" title="VSFX 312 - Menger Fractal" href="menger.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> VSFX 312 - Advanced Application Scripting
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sierpinski.html">Sierpinski Gasket</a></li>
<li class="toctree-l1"><a class="reference internal" href="menger.html">Menger Fractal</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">HDR Batch Processor</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hdrprocessuser.html">HDR Batch Process User Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="hdrprocessdocumentation.html">HDR Batch Process Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#links">Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outline">Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interfaces">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#final-usage">Final Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#final-note">Final Note</a></li>
<li class="toctree-l2"><a class="reference internal" href="#important-topics">Important Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references-consulted">References Consulted</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sierpinskidocumentation.html">Sierpinski Gasket Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="mengerdocumentation.html">Menger Fractal Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="hdrprocessdocumentation.html">HDR Batch Processor Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">VSFX 312 - Advanced Application Scripting</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>HDR Batch Processor</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/hdrprocess.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="hdr-batch-processor">
<span id="hdrprocess"></span><h1>HDR Batch Processor<a class="headerlink" href="#hdr-batch-processor" title="Permalink to this headline">¶</a></h1>
<p>A Python script to batch-merge a variety of images into beautiful HDR images.</p>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<p>Get the script <a class="reference external" href="http://github.com/ColinKennedy/hdrprocess">here</a>.
To look at HDR Batch Processor&#8217;s documentation, head over to the</p>
<p><a class="reference internal" href="hdrprocessdocumentation.html#hdrprocessdocumentation"><span>HDR Batch Processor documentation</span></a>.</p>
<p>If you&#8217;re a user looking to use the script itself, go here:</p>
<p><a class="reference internal" href="hdrprocessuser.html#hdrprocess-user-guide"><span>HDR Batch Processor User Guide</span></a></p>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>I&#8217;m an avid fan of HDRs and panoramas in general and I recently purchased the
skywalker Merlin/Orion and modded it using papywizard to make it into an
automatic panorama head. It supports bracketing from my Canon Rebel T3i as well
as My nightly build of Magic Lantern. The only problem is, a single 1.3
Gigapixel pan is 940 images x the number of brackets I need to take. So if I did
5 x 2 EV brackets per HDR, that&#8217;s just shy of 5000 images to process. Yikes.</p>
<p>My solution is between 8x-13x faster than leading industry standards, like
Photomatix, Fusion, Adobe Lightroom CC, and HDR Studio. The speed varies
depending on the number of HDR images there are to create. The more images to
process, the better the speed</p>
</div>
<div class="section" id="goals">
<h2>Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>Create a HDR batch stitcher that is very fast</li>
<li>Extend the script&#8217;s features leveraging existing software in order to avoid
high maintainence proprietary issues in the script.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="outline">
<h2>Outline<a class="headerlink" href="#outline" title="Permalink to this headline">¶</a></h2>
<p>For this stitcher to work, I will use mkhdri.exe as my base. mkhdri.exe is a
binary executable that ships as a part of Picturenaut, a free HDR program. In
order to sort the hdr images according, I have my T3i + Magic Lantern output a
sidecar file for every bracketed image sequence. The text file it creates keeps
a list of the groupings of HDR images. From there, my process for handling the
images are as follows</p>
<blockquote>
<div><ol class="arabic simple">
<li>Get images from my SD card</li>
<li>Using the sidecar .txt files from Magic Lantern, I get the HDR groups</li>
<li>For each sequence of HDR groups, pass the user args to mkhdri.exe</li>
<li>Assign a sequence of HDR groups to batch per-allowed user thread</li>
<li>Confirm at the merge was successfu</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="interfaces">
<h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h2>
<img alt="src/hdrprocess_interface.png" class="align-center" src="src/hdrprocess_interface.png" />
</div>
<div class="section" id="final-usage">
<h2>Final Usage<a class="headerlink" href="#final-usage" title="Permalink to this headline">¶</a></h2>
<p>If a user has a customized .crv camera curve (I mean, who doesn&#8217;t, right?),
the first thing they&#8217;ll do is input it under the &#8220;Curve Settings&#8221;. They&#8217;ll set
the stops from their camera (F-Num) and the number of brackets for each HDR
goes into the sequence interval. For those working with text files that contain
their brackets such as Magic Lantern users, the sequence is only used as a
fall-back if the script encounters image sequences with no accompanying text.</p>
<p>Image-alignment is recommended to turn on if the camera was unstable during the
length that the photograph was taken, ghost removal should be enabled if there
where moving objects in the exposures, exposure correction and color balancing
are good to enable if lighting conditions changed during the shoot.</p>
<p>From there, the user can input files/folders and sidecar text files in the
bottom field.</p>
<p>The script also has a command-line version, to automate the process further</p>
</div>
<div class="section" id="final-note">
<h2>Final Note<a class="headerlink" href="#final-note" title="Permalink to this headline">¶</a></h2>
<p>While my script works very fast, it&#8217;s speed comes in part at the expense of some
of the the bells and whistles that other HDRi software uses. I retained some
features but this setup won&#8217;t tolerate shooting styles where the photographer
is holding the camera, instead of on a monopod or tripod.</p>
<p>Ultimately, I&#8217;d like to automate the process of stithing panoramas completely,
from start to finish. I can do that fairly easily, because papywizard outputs
XMP data which represents the rotation of the camera at the time of the
photograph, making stitching via positioning possible. More on that later.</p>
</div>
<div class="section" id="important-topics">
<h2>Important Topics<a class="headerlink" href="#important-topics" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://docs.python.org/2/library/os.path.html">https://docs.python.org/2/library/os.path.html</a></p>
<p><a class="reference external" href="http://www.hdrlabs.com/picturenaut/">http://www.hdrlabs.com/picturenaut/</a></p>
</div>
<div class="section" id="references-consulted">
<h2>References Consulted<a class="headerlink" href="#references-consulted" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://stackoverflow.com/questions/4579908">https://stackoverflow.com/questions/4579908</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/600268">https://stackoverflow.com/questions/600268</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/31748617">https://stackoverflow.com/questions/31748617</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/2422050/raw-image-processing-in-python">https://stackoverflow.com/questions/2422050/raw-image-processing-in-python</a></p>
<p><a class="reference external" href="https://stackoverflow.com/questions/3397157/how-to-read-a-raw-image-using-pil">https://stackoverflow.com/questions/3397157/how-to-read-a-raw-image-using-pil</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hdrprocessuser.html" class="btn btn-neutral float-right" title="HDR Batch Processor User Guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="menger.html" class="btn btn-neutral" title="VSFX 312 - Menger Fractal" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Colin Kennedy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>