




<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fileio.controller.checkout &mdash; Portal: Origins [Part 2] 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
  

  
    <link rel="top" title="Portal: Origins [Part 2] 1.0.0 documentation" href="../../../index.html"/>
        <link rel="up" title="Module code" href="../../index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Portal: Origins [Part 2]
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../wip/index.html">Portal Origins Part 2</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pickrunner/pickrunner.html">Pickrunner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../abs2rel/abs2rel.html">Batch Absolute Files to Relative Paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hdrprocess/hdrprocess.html">HDRi Batch Processor</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Portal: Origins [Part 2]</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Module code</a> &raquo;</li>
      
    <li>fileio.controller.checkout</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for fileio.controller.checkout</h1><div class="highlight"><pre>
<span class="ch">#!/usr/bin/env python</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">.. Project::</span>
<span class="sd"> Portal Origins: Part Two</span>

<span class="sd">.. Description::</span>
<span class="sd"> Checkout contains general methods for reading and writing to files using</span>
<span class="sd"> globally defined variables from the root project directory</span>

<span class="sd">.. Author::</span>
<span class="sd"> Colin Kennedy</span>

<span class="sd">.. Improvements::</span>
<span class="sd"> - Add named regex groups, instead of querying values as [0]. [1], [2], etc</span>

<span class="sd">.. TODO::</span>
<span class="sd"> - Add a check to make sure that people are</span>
<span class="sd">  A. using a registered username for the group</span>
<span class="sd">  B. That they&#39;re using a registered PREFIX in beginning of the description</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># IMPORT STANDARD LIBRARIES</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">json</span>  <span class="c1"># data handling</span>
<span class="kn">import</span> <span class="nn">socket</span>  <span class="c1"># for determining remote user access</span>
<span class="kn">import</span> <span class="nn">subprocess</span>  <span class="c1"># for calling applications from the command-line</span>
<span class="kn">import</span> <span class="nn">ntpath</span>  <span class="c1"># to allow OS-independent filepath leafing</span>

<span class="c1"># IMPORT THIRD PARTY LIBRARIES</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">maya.OpenMaya</span> <span class="kn">as</span> <span class="nn">om</span>  <span class="c1"># try to load maya modules</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;intepreter: {i} could not load &quot;</span>
          <span class="s2">&quot;maya.OpenMaya&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">))</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">nuke</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;intepreter: {i} could not load &quot;</span>
          <span class="s2">&quot;nuke&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">))</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">hou</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;intepreter: {i} could not load &quot;</span>
          <span class="s2">&quot;hou&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">))</span>

<span class="kn">import</span> <span class="nn">network.controller.network</span> <span class="kn">as</span> <span class="nn">network</span>

<span class="c1"># IMPORT LOCAL LIBRARIES</span>
<span class="kn">import</span> <span class="nn">constants.model.constants</span> <span class="kn">as</span> <span class="nn">consts</span>
<span class="kn">import</span> <span class="nn">logger.common.loggingServices</span> <span class="kn">as</span> <span class="nn">loggingservices</span>
<span class="n">LOGGER</span> <span class="o">=</span> <span class="n">loggingservices</span><span class="o">.</span><span class="n">init_logger</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">paths</span>
<span class="kn">import</span> <span class="nn">globerror</span>


<span class="n">MAYA_EXEC_LOCATION</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">consts</span><span class="o">.</span><span class="n">ROOT_DIR</span><span class="p">,</span> <span class="s1">&#39;Pipeline&#39;</span><span class="p">,</span> <span class="s1">&#39;the_LATEST&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;latest_CONFIG&#39;</span><span class="p">,</span> <span class="s1">&#39;conf_SCRIPTS&#39;</span><span class="p">)</span>


<div class="viewcode-block" id="FileIO"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO">[docs]</a><span class="k">class</span> <span class="nc">FileIO</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generic File read/write class that works universally on all files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize class with the file name, path, full path, and extension and</span>
<span class="sd">        other relevant information about the file</span>

<span class="sd">        Args:</span>
<span class="sd">            filePath (str): The full path of the file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileIO</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span> <span class="o">=</span> <span class="n">filePath</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">path_leaf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">filePath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">)</span>
        <span class="c1"># self.filePath = filePath[:(-1 * len(self.fileName))]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_farm_character_limit</span> <span class="o">=</span> <span class="mi">255</span>  <span class="c1"># ::TO DO:: find out the real number for this</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sys_character_limit</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disallowedFilePathCharacters</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">,</span> <span class="s1">&#39;(&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
                                             <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="s1">&#39;{&#39;</span><span class="p">,</span> <span class="s1">&#39;}&#39;</span><span class="p">,</span> <span class="s1">&#39;$&#39;</span><span class="p">,</span>
                                             <span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">)</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileIO.save_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.save_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        File read method</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end save_file</span>

<div class="viewcode-block" id="FileIO.open_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.open_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        File open method</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end open_file</span>

<div class="viewcode-block" id="FileIO.is_empty"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.is_empty">[docs]</a>    <span class="k">def</span> <span class="nf">is_empty</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks for an empty file from self.fullPath</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">([</span><span class="s1">&#39;AIE7900&#39;</span><span class="p">,</span> <span class="s1">&#39;match_false&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">}])</span>
            <span class="k">return</span> <span class="bp">None</span></div>
    <span class="c1"># end is_empty</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        An unambiguous print of class FileIO, used for logging/debugging</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: A string that represents the settings and access memory</span>
<span class="sd">                 location of the current class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;{mod}.{name}(fullPath=&quot;{fPath}&quot;, fileName=&quot;{flName},&#39;</span>\
               <span class="s1">&#39;extension=&quot;{ext}&quot;, farm_character_limit={fcl},&#39;</span>\
               <span class="s1">&#39;sys_character_limit={scl},&#39;</span>\
               <span class="s1">&#39;disallowedFilePathCharacters=&quot;{disallowedChars}&quot;)&#39;</span>\
               <span class="s1">&#39;object at {hexI}&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__module__</span><span class="p">,</span>
                                         <span class="bp">self</span><span class="o">.</span><span class="n">__class__</span><span class="o">.</span><span class="n">__name__</span><span class="p">,</span>
                                         <span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)))</span>
        <span class="c1"># return &quot;FileIO(fullpath=%r)&quot; % (self.fullPath)</span>
    <span class="c1"># end __repr__</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints out a string method for the FileIO class</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The string which represents the full path to the file</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span>
    <span class="c1"># end __str__</span>

<div class="viewcode-block" id="FileIO.is_character_limit"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.is_character_limit">[docs]</a>    <span class="k">def</span> <span class="nf">is_character_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the file path is too long for the current OS. The file is</span>
<span class="sd">        still readable but this check is done to make sure that the file can</span>
<span class="sd">        still be copied/pastied without losing its properties</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">path</span>

        <span class="n">system</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">platform</span>
        <span class="k">if</span> <span class="n">system</span>  <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;AIE2102&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;OS&#39;</span><span class="p">:</span> <span class="n">system</span><span class="p">})</span>
            <span class="n">maxLength</span> <span class="o">=</span> <span class="mi">260</span>
        <span class="k">elif</span> <span class="n">system</span> <span class="o">==</span> <span class="s2">&quot;linux2&quot;</span> <span class="ow">or</span> <span class="s2">&quot;Mac&quot;</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;AIE2102&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;OS&#39;</span><span class="p">:</span> <span class="n">system</span><span class="p">})</span>
            <span class="n">maxLength</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">([</span><span class="s2">&quot;AIE9102&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;OS&#39;</span><span class="p">:</span> <span class="n">system</span><span class="p">})</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">maxLength</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">([</span><span class="s2">&quot;AIE6500&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;string&#39;</span><span class="p">:</span> <span class="n">sell</span><span class="o">.</span><span class="n">fullPath</span><span class="p">,</span>
                                         <span class="s2">&quot;length&quot;</span><span class="p">:</span> <span class="n">maxLength</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">([</span><span class="s1">&#39;AIE4500&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;string&#39;</span><span class="p">:</span> <span class="n">path</span><span class="p">,</span> <span class="s1">&#39;OS&#39;</span><span class="p">:</span> <span class="n">system</span><span class="p">,</span>
                                   <span class="s1">&#39;max length&#39;</span><span class="p">:</span> <span class="n">maxLength</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end is_character_limit</span>

<div class="viewcode-block" id="FileIO.is_farm_character_limit"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.is_farm_character_limit">[docs]</a>    <span class="k">def</span> <span class="nf">is_farm_character_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. note::</span>
<span class="sd">         I named this module poorly. It actually should be &quot;is_above&quot;</span>

<span class="sd">        .. TODO::</span>
<span class="sd">         I need to determine the character limit for the farm first.</span>
<span class="sd">         Does it include file name and project folder or just one or the other?</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_farm_character_limit</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end is_farm_character_limit</span>

<div class="viewcode-block" id="FileIO.is_valid_filepath"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileIO.is_valid_filepath">[docs]</a>    <span class="k">def</span> <span class="nf">is_valid_filepath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. note::</span>
<span class="sd">         I named this module poorly. It actually should be &quot;is_above&quot;</span>

<span class="sd">        Checks if the current file path contains special characters.</span>
<span class="sd">        If so, returns False</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">paths</span><span class="o">.</span><span class="n">os_path_split_asunder</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">folder</span> <span class="k">for</span> <span class="n">c</span> \
                   <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">disallowedFilePathCharacters</span><span class="p">):</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span></div></div>
    <span class="c1"># end is_valid_filepath</span>
<span class="c1"># end FileIO</span>


<div class="viewcode-block" id="FileCheckout"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout">[docs]</a><span class="k">class</span> <span class="nc">FileCheckout</span><span class="p">(</span><span class="n">FileIO</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    An extension of the FileIO class, which now contains methods to determine</span>
<span class="sd">    whether or not a file has read/write access based upon certain criteria</span>
<span class="sd">    such as:</span>

<span class="sd">     1. If the name is incorrect (the regex to check names comes from the</span>
<span class="sd">        constants.model.constants module)</span>
<span class="sd">     2. If the file path isn&#39;t too long</span>
<span class="sd">     3. If the file isn&#39;t invalid in any way</span>

<span class="sd">     Other verification methods like if the file is locked or if the file is</span>
<span class="sd">     in the correct folder or if the user is registered with the project</span>
<span class="sd">     can be found in the network module</span>

<span class="sd">     :ref:`network.controller.network`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Uses many arguments to build the class, the most important are simply</span>
<span class="sd">        the args in charge of checking the naming convention (required/optional) args.</span>

<span class="sd">        Required Args:</span>
<span class="sd">        --------------</span>
<span class="sd">         - user: Example username such as ckenne24</span>
<span class="sd">         - version: A number with a 3 number padding</span>
<span class="sd">         - type: The item type of the asset, typically a word in all capital</span>
<span class="sd">                 letters between 4 and 6 characters</span>
<span class="sd">         - increment: A number with 4 padding, starting with the number 0 (e.g. 0004)</span>
<span class="sd">         - extension: The extension of the file</span>

<span class="sd">        Optional Arguments</span>
<span class="sd">        ------------------</span>
<span class="sd">         - scene/shot: The scene/shot of the intended asset. If specified, must</span>
<span class="sd">                       match a folder above it</span>
<span class="sd">         - description: A description of the file (as always, no spaces!)</span>

<span class="sd">        Args:</span>
<span class="sd">            filePath (str): The full path to the prospective file to be accessed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileCheckout</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">systemOS</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullPathUnpacked</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allowSave</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_is_registered</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lockedName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span> <span class="o">+</span> <span class="n">consts</span><span class="o">.</span><span class="n">LOCKED_NOTIFIER</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allowedExtensions</span> <span class="o">=</span> <span class="n">consts</span><span class="o">.</span><span class="n">GENERIC_ALLOWED_EXTENSIONS</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requiredArgs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;increment&#39;</span><span class="p">,</span> <span class="s1">&#39;extension&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optionalArgs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;scene/shot&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sceneParentFolders</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Previs&#39;</span><span class="p">,</span> <span class="s1">&#39;Edit&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sceneParentFolder</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileCheckout.check_naming_convention"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.check_naming_convention">[docs]</a>    <span class="k">def</span> <span class="nf">check_naming_convention</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileName</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                <span class="n">regex</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">override</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks the given filename for a proper naming convention</span>

<span class="sd">        Args:</span>
<span class="sd">            fileName (str): The filename to check the naming convention of</span>
<span class="sd">            regex (&lt;type &#39;_sre.SRE_Pattern&#39;&gt;): The compiled regex pattern to</span>
<span class="sd">                                               use to check fileName</span>
<span class="sd">            override (bool): Can make the script always return as True if needed</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: A struct including the shot, user, version, description,</span>
<span class="sd">                   increment, and file-type of the given fileName input</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">override</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>  <span class="c1"># a quick check to pass the naming convention test</span>

        <span class="k">if</span> <span class="n">fileName</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">fileName</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span>

        <span class="k">if</span> <span class="n">regex</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">regex</span> <span class="o">=</span> <span class="n">consts</span><span class="o">.</span><span class="n">RE_FILENAME_MATCH</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">regex</span><span class="p">,</span> <span class="n">fileName</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">critical</span><span class="p">([</span><span class="s1">&#39;AIE9602&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">fileName</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_matchGroupDict</span> <span class="o">=</span> <span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">groupdict</span><span class="p">()</span> <span class="k">for</span> <span class="n">m</span>
                        <span class="ow">in</span> <span class="n">regex</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="n">fileName</span><span class="p">)][</span><span class="mi">0</span><span class="p">]</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s1">&#39;AIE5600&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;match&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="n">fileName</span><span class="p">,</span>
                                 <span class="s1">&#39;return&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">groups</span><span class="p">()})</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;shot&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shot</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;shot&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">shotRevision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;shotRevision&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;user&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;description&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="s2">&quot;_&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
        <span class="c1"># if the increment string is meant to be parsed</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;increment&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;$&quot;</span><span class="p">,</span> <span class="s2">&quot;%&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;increment&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;increment&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">extension</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;extension&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">extension</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowedExtensions</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">critical</span><span class="p">([</span><span class="s2">&quot;AIE9604&quot;</span><span class="p">],</span>
                            <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="n">fileName</span><span class="p">,</span>
                             <span class="s2">&quot;allowedExt&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowedExtensions</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">None</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matchGroupDict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">debug</span><span class="p">([</span><span class="s1">&#39;AIE4600&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;attr&#39;</span><span class="p">:</span> <span class="n">key</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">item</span><span class="p">,</span>
                                       <span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">fileName</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_matchGroupDict</span></div>
    <span class="c1"># end check_naming_convention</span>

<div class="viewcode-block" id="FileCheckout.is_in_scene_folder"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.is_in_scene_folder">[docs]</a>    <span class="k">def</span> <span class="nf">is_in_scene_folder</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">searchFolders</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">surpressFolders</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the file is in a proper scene folder</span>

<span class="sd">        Args:</span>
<span class="sd">            searchFolders (str): A folder name to search for can be manually</span>
<span class="sd">                                 specified. If it is not though, the function</span>
<span class="sd">                                 defaults to self._sceneParentFolders</span>
<span class="sd">            surpressFolders (bool): Useful only if the file being checked has an</span>
<span class="sd">                                    expected folder structure. Example: Maya files</span>
<span class="sd">                                    that are used as scenes will always be in a</span>
<span class="sd">                                    &quot;scenes&quot; folder. The rules must be defined</span>
<span class="sd">                                    within this function</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">searchFolders</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="c1"># Assumes search is the parent folder if none is specified</span>
            <span class="n">searchFolders</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sceneParentFolders</span>

        <span class="n">maxFoldersUp</span> <span class="o">=</span> <span class="mi">9001</span>  <span class="c1"># some impossibly high number</span>
        <span class="k">if</span> <span class="n">surpressFolders</span> <span class="ow">and</span> \
                <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">consts</span><span class="o">.</span><span class="n">SCENE_DESCRIPTION_TYPES</span><span class="p">):</span>
            <span class="c1"># scene files should always be exactly two folders above</span>
            <span class="n">maxFoldersUp</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">folderSplit</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">os_split_paths_asunder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">)</span>

        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">maxFoldersUp</span><span class="p">:</span>
            <span class="n">testFolder</span> <span class="o">=</span> <span class="n">folderSplit</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">folderSplit</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">index</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">testFolder</span> <span class="ow">in</span> <span class="n">searchFolders</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sceneParentFolder</span> <span class="o">=</span> <span class="n">testFolder</span>
                <span class="k">break</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">sceneParentFolder</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">testFolder</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span></div>
    <span class="c1"># end is_in_scene_folder</span>

<div class="viewcode-block" id="FileCheckout.elevate_class_by_application"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.elevate_class_by_application">[docs]</a>    <span class="k">def</span> <span class="nf">elevate_class_by_application</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">application</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A factory method that returns a class with elevated and</span>
<span class="sd">        proprietary methods specific to that application based on an input string</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">application</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">consts</span><span class="o">.</span><span class="n">SUPPORTED_APPLICATION_NAMES</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Application Input: {app!r} not in list of supported &quot;</span>
                     <span class="s2">&quot;application names, &quot;</span>
                     <span class="s2">&quot;{sapps!r}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">application</span><span class="p">,</span>
                                        <span class="n">consts</span><span class="o">.</span><span class="n">SUPPORTED_APPLICATION_NAMES</span><span class="p">))</span>
        <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s2">&quot;maya&quot;</span><span class="p">:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">FileCheckoutMaya</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s2">&quot;nuke&quot;</span><span class="p">:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">FileCheckoutNuke</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">application</span> <span class="o">==</span> <span class="s2">&quot;houdini&quot;</span><span class="p">:</span>
            <span class="n">app</span> <span class="o">=</span> <span class="n">FileCheckoutHoudini</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">app</span></div>
    <span class="c1"># end elevate_class_by_application</span>

<div class="viewcode-block" id="FileCheckout.check_required_args"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.check_required_args">[docs]</a>    <span class="k">def</span> <span class="nf">check_required_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        .. TODO::</span>
<span class="sd">         Doesn&#39;t do anything yet but eventually it could be used to concatenate</span>
<span class="sd">         missing args in a list of required arguments if the missing required</span>
<span class="sd">         arguments can be queried (example: adding a username into a file that</span>
<span class="sd">         doesn&#39;t already have one assigned)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">allRequired</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="n">rArgs</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_requiredArgs</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">rArgs</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">critical</span><span class="p">([</span><span class="s1">&#39;AIE9601&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;var&#39;</span><span class="p">:</span> <span class="n">rArgs</span><span class="p">,</span>
                                              <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
                <span class="n">dictTemp</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;match&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">,</span>
                            <span class="s1">&#39;convention&#39;</span><span class="p">:</span> <span class="n">consts</span><span class="o">.</span><span class="n">MATCH_RE</span><span class="p">}</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">critical</span><span class="p">([</span><span class="s1">&#39;AIE6601&#39;</span><span class="p">],</span> <span class="n">dictTemp</span><span class="p">)</span>
                <span class="n">allRequired</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">if</span> <span class="n">rArgs</span> <span class="o">==</span> <span class="s2">&quot;type&quot;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">rArgs</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> \
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">rArgs</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">consts</span><span class="o">.</span><span class="n">ITYP_LIST</span><span class="p">:</span>
                <span class="n">LOGGER</span><span class="o">.</span><span class="n">critical</span><span class="p">([</span><span class="s1">&#39;AIE9603&#39;</span><span class="p">],</span>
                                <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="n">rArgs</span><span class="p">),</span>
                                 <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileName</span><span class="p">,</span>
                                 <span class="s1">&#39;list&#39;</span><span class="p">:</span> <span class="n">consts</span><span class="o">.</span><span class="n">ITYP_LIST</span><span class="p">})</span>
                <span class="k">return</span> <span class="bp">None</span>

        <span class="k">if</span> <span class="n">allRequired</span> <span class="o">==</span> <span class="bp">False</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span></div>
    <span class="c1"># end check_required_args</span>

<div class="viewcode-block" id="FileCheckout.save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The contents of a generic file save command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end save</span>

<div class="viewcode-block" id="FileCheckout.save_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.save_file">[docs]</a>    <span class="k">def</span> <span class="nf">save_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attempts to save a generic file but checks if the file is locked first</span>

<span class="sd">        .. Note::</span>
<span class="sd">         This method doesn&#39;t imply that a open was successful, just if the file</span>
<span class="sd">         is allowed to be opened by the current user</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: If the save is able to occurs, returns True. Else False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_locked</span><span class="p">():</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE5602&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE1601&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_locked</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contact_info</span><span class="p">()[</span><span class="s1">&#39;USER&#39;</span><span class="p">]</span> <span class="o">==</span> \
                                                            <span class="n">consts</span><span class="o">.</span><span class="n">USER</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">([</span><span class="s1">&#39;AIE6600&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE5601&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE1601&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">([</span><span class="s2">&quot;AIE5601&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end save_file</span>

<div class="viewcode-block" id="FileCheckout.open"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The contents of a generic file open command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end open</span>

<div class="viewcode-block" id="FileCheckout.open_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.open_file">[docs]</a>    <span class="k">def</span> <span class="nf">open_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Attempts to open a generic file but checks if the file is locked first</span>

<span class="sd">        .. Note::</span>
<span class="sd">         This method doesn&#39;t imply that a open was successful, just if the file</span>
<span class="sd">         is allowed to be opened by the current user</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: If the open is able to occurs, returns True. Else False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">error</span><span class="p">([</span><span class="s2">&quot;AIE7602&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_locked</span><span class="p">():</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE5602&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE1602&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>  <span class="c1"># customized open method</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_locked</span><span class="p">()</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_contact_info</span><span class="p">()[</span><span class="s1">&#39;USER&#39;</span><span class="p">]</span> <span class="o">==</span> \
                                                            <span class="n">consts</span><span class="o">.</span><span class="n">USERNAME</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;AIE1602&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">warning</span><span class="p">([</span><span class="s1">&#39;AIE6600&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>  <span class="c1"># customized open method</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;AIE5601&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end open_file</span>

<div class="viewcode-block" id="FileCheckout.get_path_os"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.get_path_os">[docs]</a>    <span class="k">def</span> <span class="nf">get_path_os</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unintelligent module for testing if a string is meant for a certain</span>
<span class="sd">        operating system. The method does not use the os module, because os.path</span>
<span class="sd">        assumes that the string you&#39;re querying works with your operating system</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The OS (possibilities are linux2 or win32)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fileIO</span><span class="o">.</span><span class="n">fullPath</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">):</span>
            <span class="n">systemOS</span> <span class="o">=</span> <span class="s1">&#39;linux2&#39;</span>
            <span class="n">fileIO</span><span class="o">.</span><span class="n">systemOS</span> <span class="o">=</span> <span class="n">systemOS</span>
            <span class="k">return</span> <span class="n">systemOS</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">systemOS</span> <span class="o">=</span> <span class="s1">&#39;win32&#39;</span>
            <span class="n">fileIO</span><span class="o">.</span><span class="n">systemOS</span> <span class="o">=</span> <span class="n">systemOS</span>
            <span class="k">return</span> <span class="n">systemOS</span></div>
    <span class="c1"># end get_path_os</span>

<div class="viewcode-block" id="FileCheckout.split_folders"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.split_folders">[docs]</a>    <span class="k">def</span> <span class="nf">split_folders</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unintelligent folder path split method that does not assume</span>
<span class="sd">        the current user&#39;s OS. It rejoins the file with os.sep</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The file path, rejoined</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fullPathUnpacked</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">r&#39;(/|</span><span class="se">\\\\</span><span class="s1">|</span><span class="se">\\</span><span class="s1">)\s*&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>

        <span class="n">removalMarkers</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="c1"># print [i for j, i in enumerate(fields) if j not in removal]</span>
        <span class="n">folderPaths</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span> <span class="k">if</span> <span class="n">j</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">removal</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">consts</span><span class="o">.</span><span class="n">SYSTEM</span> <span class="o">==</span> <span class="s2">&quot;win32&quot;</span><span class="p">:</span>
            <span class="n">folderPaths</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">consts</span><span class="o">.</span><span class="n">SYSTEM</span> <span class="o">==</span> <span class="s2">&quot;linux2&quot;</span><span class="p">:</span>
            <span class="n">folderPaths</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">EnvironmentError</span><span class="p">(</span><span class="s2">&quot;not sure what OS you&#39;re using&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">folderPaths</span></div>
    <span class="c1"># end split_folders</span>

<div class="viewcode-block" id="FileCheckout.is_locked"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.is_locked">[docs]</a>    <span class="k">def</span> <span class="nf">is_locked</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Looks to see if the file being queried is currently being accessed</span>
<span class="sd">        over the network</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lockedName</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s1">&#39;AIE5601&#39;</span><span class="p">,</span> <span class="s1">&#39;match_true&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s1">&#39;AIE5602&#39;</span><span class="p">,</span> <span class="s1">&#39;match_false&#39;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
        <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end is_locked</span>

<div class="viewcode-block" id="FileCheckout.is_locked_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.is_locked_file">[docs]</a>    <span class="k">def</span> <span class="nf">is_locked_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fileHandle</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Determines if the file being inspected falls under the criteria</span>
<span class="sd">        of &quot;locked&quot; but does not currently check if the file exists</span>

<span class="sd">         Right now, the convention for a locked file is</span>
<span class="sd">         &quot;/some/path/foo.bar.lock&quot;</span>
<span class="sd">         so I&#39;m testing for the extension suffix here</span>

<span class="sd">        Args:</span>
<span class="sd">            fileHandle (str): The full path to a prospective file path. If not</span>
<span class="sd">                              specified, the script defaults to self.fullPath</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">fileHandle</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">fileHandle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span>

        <span class="k">if</span> <span class="n">fileHandle</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">consts</span><span class="o">.</span><span class="n">LOCKED_NOTIFIER</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end is_locked_file</span>

<div class="viewcode-block" id="FileCheckout.get_save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.get_save">[docs]</a>    <span class="k">def</span> <span class="nf">get_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generic save function to be overridden.</span>
<span class="sd">        Gets the filepath to the object/file/folder being saved</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end get_save</span>

<div class="viewcode-block" id="FileCheckout.set_save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckout.set_save">[docs]</a>    <span class="k">def</span> <span class="nf">set_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generic set method - contains the actual code to</span>
<span class="sd">        allow or stop a save</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1">#end set_save</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allow_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Changes the permissions on the file, determining whether or not the user</span>
<span class="sd">        is allowed to save in the current session</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowSave</span>
    <span class="c1"># end @allow_save.property</span>

    <span class="nd">@allow_save.setter</span>
    <span class="k">def</span> <span class="nf">allow_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set method for the allow_save property. Setting the value will trigger</span>
<span class="sd">        either a IOValidationPassedError (True) or IOValidationError (False)</span>
<span class="sd">        which is later captured and handled in other modules</span>

<span class="sd">        Args:</span>
<span class="sd">            value (bool): True/False</span>

<span class="sd">        Returns:</span>
<span class="sd">            IOValidationError or IOValidationPassedError: Custom Exception</span>
<span class="sd">                                                          classes. See</span>
<span class="sd">                                                          :ref:`Exceptions`</span>
<span class="sd">                                                          for more details</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_allowSave</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowSave</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">globerror</span><span class="o">.</span><span class="n">IOValidationPassedError</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">globerror</span><span class="o">.</span><span class="n">IOValidationError</span><span class="p">()</span>
    <span class="c1"># end @allow_save.setter</span>

    <span class="nd">@allow_save.deleter</span>
    <span class="k">def</span> <span class="nf">allow_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete method for the allow_save property</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_allowSave</span>
    <span class="c1"># end @allow_save.setter</span>
    <span class="c1"># end allow_save</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_registered</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the user is part of the project. Gets crew info from another</span>
<span class="sd">        module. If there is information about the person, return True</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">crewMemberInfo</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">project_member_contact_info</span><span class="p">(</span><span class="n">consts</span><span class="o">.</span><span class="n">USERNAME</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">crewMemberInfo</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_registered</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_is_registered</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_registered</span></div>
    <span class="c1"># end @is_registered.property</span>

    <span class="c1"># @is_registered.setter</span>
    <span class="c1"># def is_registered(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Setter method for is_registered. Adds users to the specified key</span>
    <span class="c1">#     if True. Removes them if it is False</span>

    <span class="c1">#     .. Note::</span>
    <span class="c1">#      No longer implemented</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     pass</span>
    <span class="c1"># # end @is_registered.setter</span>

    <span class="c1"># @is_registered.deleter</span>
    <span class="c1"># def is_registered(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Setter method for is_registered. Removes class property</span>
    <span class="c1">#     but keeps the registration config file</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     del self._is_registered</span>
    <span class="c1"># # end @is_registered.deleter</span>
    <span class="c1"># # end is_registered</span>
<span class="c1"># end FileCheckout</span>


<div class="viewcode-block" id="FileCheckoutFinal"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutFinal">[docs]</a><span class="k">class</span> <span class="nc">FileCheckoutFinal</span><span class="p">(</span><span class="n">FileCheckout</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks the file naming convention for finalized assets. This class has</span>
<span class="sd">    different rules about what makes it &quot;final&quot; and most of the other args are</span>
<span class="sd">    actually optional</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inits the FileCheckoutFinal object with its required args and the</span>
<span class="sd">        expected folder that it would be found in</span>

<span class="sd">        Required Arguments</span>
<span class="sd">        ------------------</span>
<span class="sd">         - _FIN</span>
<span class="sd">         - user</span>
<span class="sd">         - type (ITYP)</span>
<span class="sd">         - increment</span>
<span class="sd">         - extension</span>

<span class="sd">        Optional Arguments</span>
<span class="sd">        ------------------</span>
<span class="sd">         - scene/shot</span>
<span class="sd">         - description</span>

<span class="sd">        Args:</span>
<span class="sd">            filePath (str): The full path to a filename that represents a</span>
<span class="sd">            &quot;finalized&quot; asset. This class was subclassed because the convention</span>
<span class="sd">            rules for final assets are typically different from scene assets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileCheckoutFinal</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">requiredArgs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;_FIN (prefix)&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;increment&#39;</span><span class="p">,</span>
                             <span class="s1">&#39;extension&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">optionalArgs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;scene/shot&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sceneParentFolders</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Build&#39;</span><span class="p">,</span> <span class="s1">&#39;Final&#39;</span><span class="p">]</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileCheckoutFinal.is_final"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutFinal.is_final">[docs]</a>    <span class="k">def</span> <span class="nf">is_final</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if self.fullPath is final based upon where in the folder</span>
<span class="sd">        structure it&#39;s being saved and also whether or not it has the correct</span>
<span class="sd">        regex rules applied to it</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">folders</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">split_os_asunder</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">)</span>
        <span class="c1"># test if it&#39;s being saved to the right folder</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;FINAL&quot;</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="c1"># test the filename for the correct string</span>
        <span class="n">matchRe</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;_FIN.+&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">matchRe</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span></div></div>
    <span class="c1"># end is_final</span>
        <span class="c1"># write in the new required args here</span>
        <span class="c1"># as well as other class-specific vars</span>
<span class="c1"># end FileCheckoutFinal</span>


<div class="viewcode-block" id="FileCheckoutMaya"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya">[docs]</a><span class="k">class</span> <span class="nc">FileCheckoutMaya</span><span class="p">(</span><span class="n">FileCheckout</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks file information and determines whether or not a file is allowed to</span>
<span class="sd">    be saved and has its methods customized to suit Maya files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            filePath (str): The full path to a filename that represents a</span>
<span class="sd">            &quot;finalized&quot; asset. This class was subclassed because the convention</span>
<span class="sd">            rules for final assets are typically different from scene assets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileCheckoutMaya</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileCheckoutMaya.open"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Open command for a Maya session</span>

<span class="sd">        .. TODO::</span>
<span class="sd">         Add an exception case for invalid file types, so the command doesn&#39;t</span>
<span class="sd">         fail mid-execution</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">consts</span><span class="o">.</span><span class="n">SYSTEM</span> <span class="o">==</span> <span class="s1">&#39;linux2&#39;</span><span class="p">:</span>
            <span class="n">scriptEnding</span> <span class="o">=</span> <span class="s1">&#39;.sh&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">scriptEnding</span> <span class="o">=</span> <span class="s1">&#39;.bat&#39;</span>

        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;MYA5700&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span></div>
        <span class="c1"># subprocess.call(&#39;{exec} -o {f}&#39;.format(exec=MAYA_EXEC_LOCATION + os.sep +</span>
        <span class="c1">#                                    pop2_maya + scriptEnding,</span>
        <span class="c1">#                               f=self.fullPath))</span>
    <span class="c1"># end open</span>

<div class="viewcode-block" id="FileCheckoutMaya.save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom Maya-based save command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">f</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;mayaAscii&#39;</span><span class="p">,</span> <span class="n">save</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span></div>
    <span class="c1"># end save</span>

    <span class="c1"># def initialize(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Opens Maya from the python command-line directly, using maya.standalone</span>

    <span class="c1">#     .. Note::</span>
    <span class="c1">#      Deprecated</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     # maya.standalone.initialize(&quot;Python&quot;)</span>
    <span class="c1">#     pass</span>
    <span class="c1"># # end initialize</span>

<div class="viewcode-block" id="FileCheckoutMaya.is_maya_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya.is_maya_file">[docs]</a>    <span class="k">def</span> <span class="nf">is_maya_file</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the file input is a valid Maya file, available for opening</span>

<span class="sd">        .. TODO::</span>
<span class="sd">         Create an exception case - if the path is not openable, then you know</span>
<span class="sd">         it is not a valid maya file</span>

<span class="sd">        .. AUTHORNOTE::</span>
<span class="sd">	 Temporarily applying paths to system. Change these into</span>
<span class="sd">         temporary env vars later</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">([</span><span class="s2">&quot;MYA1700&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
        <span class="c1"># import maya.cmds as cmds  # must be imported in-line, after initialization</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plugins_load</span><span class="p">()</span>

        <span class="c1"># Open your file</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">opened_file</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">,</span> <span class="n">o</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
            <span class="c1"># LOGGER.info([&quot;MYA5701&quot;], {&quot;file&quot;, self.fullPath})</span>
            <span class="c1"># LOGGER.info([&quot;MYA5702&quot;], {&quot;file&quot;, self.fullPath})</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">except</span> <span class="ne">RuntimeError</span><span class="p">:</span>
            <span class="c1"># LOGGER.info([&quot;MYA5703&quot;], {&quot;file&quot;, self.fullPath})</span>
            <span class="c1"># LOGGER.error([&quot;MYA7700&quot;], {&quot;file&quot;, self.fullPath})</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">maya</span><span class="o">.</span><span class="n">standalone</span><span class="o">.</span><span class="n">uninitialize</span><span class="p">()</span></div>
    <span class="c1"># end is_maya_file</span>

    <span class="c1"># def load_plugins(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Generic method for batch loading all maya plugins for the current project</span>


    <span class="c1">#     .. Note::</span>
    <span class="c1">#      Deprecated</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     import maya.cmds as cmds</span>
    <span class="c1">#     for plugin in consts.SUPPORTED_PLUGINS_MAYA:</span>
    <span class="c1">#         LOGGER.info([&#39;MYA5900&#39;], {&#39;plugin&#39;: plugin, &#39;file&#39;: self.fullPath})</span>
    <span class="c1">#         cmds.loadPlugin(plugin)  # load any required plugs here</span>
    <span class="c1"># # end load_plugins</span>

<div class="viewcode-block" id="FileCheckoutMaya.is_maya_file_fast"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya.is_maya_file_fast">[docs]</a>    <span class="k">def</span> <span class="nf">is_maya_file_fast</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Less intelligent alternative to checking the maya file. Useful if the</span>
<span class="sd">        file that is being checked is very large or has a long read time.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True/False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">consts</span><span class="o">.</span><span class="n">FILETYPES_MAYA</span><span class="p">):</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;MYA5702&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">([</span><span class="s2">&quot;MYA5703&quot;</span><span class="p">],</span> <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">fullPath</span><span class="p">})</span>
            <span class="k">return</span> <span class="bp">False</span></div>
    <span class="c1"># end is_maya_file_fast</span>

<div class="viewcode-block" id="FileCheckoutMaya.get_current_scene"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutMaya.get_current_scene">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current scene name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fileName</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">ns</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fileName</span></div></div>
    <span class="c1"># end get_current_scene</span>

    <span class="c1"># def set_save(self, value, retCode=None, forceSave=False):</span>
    <span class="c1">#   &quot;&quot;&quot;</span>
    <span class="c1">#   The actual Maya-based set method that allows for saving</span>
    <span class="c1">#   &quot;&quot;&quot;</span>
    <span class="c1">#        if forceSave:</span>
    <span class="c1">#            om.MScriptUtil.setBool(retCode, True)</span>
    <span class="c1">#        else:</span>
    <span class="c1">#            om.MScriptUtil.setBool(retCode, value)</span>
    <span class="c1">#    # end set_save</span>

    <span class="c1"># def uninitialize(self):</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     Uninitialize maya&#39;s command-line connection</span>

    <span class="c1">#     .. Note::</span>
    <span class="c1">#      Deprecated</span>
    <span class="c1">#     &quot;&quot;&quot;</span>
    <span class="c1">#     # import maya.standalone</span>
    <span class="c1">#     LOGGER.trace([&quot;MYA1701&quot;], {&#39;file&#39;: self.fullPath})</span>
    <span class="c1">#     maya.standalone.uninitialize()</span>
    <span class="c1"># # end uninitialize</span>
<span class="c1"># end FileCheckoutMaya</span>


<div class="viewcode-block" id="FileCheckoutNuke"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutNuke">[docs]</a><span class="k">class</span> <span class="nc">FileCheckoutNuke</span><span class="p">(</span><span class="n">FileCheckout</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks file information and determines whether or not a file is allowed to</span>
<span class="sd">    be saved and has its methods customized to suit Nuke files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Inits a FileCheckout class but adds a error message string called</span>
<span class="sd">        self._errorMsg. The error message that comes up in Nuke when a user</span>
<span class="sd">        is not permitted to save is actually a native Python RuntimeError.</span>
<span class="sd">        self._errorMsg keeps tabs on what message gets passed to RuntimeError.</span>

<span class="sd">        Args:</span>
<span class="sd">            filePath (str): The full path to a filename that represents a</span>
<span class="sd">            &quot;finalized&quot; asset. This class was subclassed because the convention</span>
<span class="sd">            rules for final assets are typically different from scene assets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileCheckoutNuke</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">filePath</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_errorMsg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>  <span class="c1"># default error message is nothing</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileCheckoutNuke.open"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutNuke.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom Nuke-based open command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end open</span>

<div class="viewcode-block" id="FileCheckoutNuke.save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutNuke.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom Nuke-based save command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">nuke</span><span class="o">.</span><span class="n">toNode</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
        <span class="n">nuke</span><span class="o">.</span><span class="n">scriptSaveAs</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>
    <span class="c1"># end save</span>

<div class="viewcode-block" id="FileCheckoutNuke.get_save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutNuke.get_save">[docs]</a>    <span class="k">def</span> <span class="nf">get_save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">thisNode</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets save file from scene or from node</span>

<span class="sd">        Args:</span>
<span class="sd">            thisNode (Nuke object): A Nuke object node that points to an</span>
<span class="sd">                                    existing node</span>
<span class="sd">            param (str):  The parameter which would be used to get the save string.</span>
<span class="sd">                          On a write node, this would be the &quot;file&quot; knob.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The filestring that is going to be saved</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">thisNode</span> <span class="ow">and</span> <span class="n">param</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Param required&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">thisNode</span> <span class="ow">and</span> <span class="n">param</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">nuke</span><span class="o">.</span><span class="n">thisNode</span><span class="p">()[</span><span class="n">param</span><span class="p">]</span>
            <span class="c1"># file = nuke.filename(nuke.thisNode())</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">thisNone</span><span class="p">:</span>
            <span class="c1"># :::TO DO::: Get the nuke .nk scene name here!</span>
            <span class="k">pass</span></div>
    <span class="c1"># end get_save</span>

<div class="viewcode-block" id="FileCheckoutNuke.get_current_scene"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutNuke.get_current_scene">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current scene name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fileName</span> <span class="o">=</span> <span class="n">nuke</span><span class="o">.</span><span class="n">toNode</span><span class="p">(</span><span class="s2">&quot;root&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">fileName</span></div>
    <span class="c1"># end get_current_scene</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">error_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter method which allows/disallows save/write access</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_errorMsg</span>
    <span class="c1"># end @allow_save.property</span>

    <span class="nd">@error_msg.setter</span>
    <span class="k">def</span> <span class="nf">error_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter method for the allow_save func</span>

<span class="sd">        .. Note::</span>
<span class="sd">         Writing into this attribute does NOT automatically generate an error</span>
<span class="sd">         message. It simply serves as storage</span>

<span class="sd">        Args:</span>
<span class="sd">            value (str): The error message to print to the user</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_errorMsg</span> <span class="o">=</span> <span class="n">value</span>
    <span class="c1"># end set_error_msg.setter</span>

    <span class="nd">@error_msg.deleter</span>
    <span class="k">def</span> <span class="nf">error_msg</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deleter method for the allow_save func</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_errorMsg</span></div>
    <span class="c1"># end @set_error_msg.deleter</span>
    <span class="c1"># end error_msg</span>
<span class="c1"># end FileCheckoutNuke</span>


<div class="viewcode-block" id="FileCheckoutHoudini"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutHoudini">[docs]</a><span class="k">class</span> <span class="nc">FileCheckoutHoudini</span><span class="p">(</span><span class="n">FileCheckout</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks file information and determines whether or not a file is allowed to</span>
<span class="sd">    be saved and has its methods customized to suit Houdini files</span>

<span class="sd">    .. Note::</span>
<span class="sd">     Deprecated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filePath</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">FileCheckoutHoudini</span><span class="p">,</span> <span class="n">__init__</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="c1"># end __init__</span>

<div class="viewcode-block" id="FileCheckoutHoudini.get_current_scene"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutHoudini.get_current_scene">[docs]</a>    <span class="k">def</span> <span class="nf">get_current_scene</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current scene name</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fileName</span> <span class="o">=</span> <span class="n">cmds</span><span class="o">.</span><span class="n">file</span><span class="p">(</span><span class="n">ns</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">fileName</span></div>
    <span class="c1"># end get_current_scene</span>

<div class="viewcode-block" id="FileCheckoutHoudini.open"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutHoudini.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom Maya-based open command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
    <span class="c1"># end open</span>
<div class="viewcode-block" id="FileCheckoutHoudini.save"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.FileCheckoutHoudini.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Custom Houdini-based save command</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hou</span><span class="o">.</span><span class="n">hipFile</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">pass</span></div></div>
    <span class="c1"># end save</span>
<span class="c1"># end FileCheckoutHoudini</span>


<div class="viewcode-block" id="is_locked"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.is_locked">[docs]</a><span class="k">def</span> <span class="nf">is_locked</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks the current object for lock</span>

<span class="sd">    Args:</span>
<span class="sd">        obj (str): The file/folder to check</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True/False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objCheckout</span> <span class="o">=</span> <span class="n">FileCheckout</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">objCheckout</span><span class="o">.</span><span class="n">is_locked</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">False</span></div>
<span class="c1"># end is_locked</span>


<div class="viewcode-block" id="is_locked_file"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.is_locked_file">[docs]</a><span class="k">def</span> <span class="nf">is_locked_file</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks if the current object is actually a locked file</span>

<span class="sd">    Args:</span>
<span class="sd">        obj (str): The file/folder to check</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True/False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">objCheckout</span> <span class="o">=</span> <span class="n">FileCheckout</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">objCheckout</span><span class="o">.</span><span class="n">is_locked_file</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span></div>
<span class="c1"># end is_locked_file</span>


<div class="viewcode-block" id="test_file_name"><a class="viewcode-back" href="../../../wip/fileio.html#fileio.controller.checkout.test_file_name">[docs]</a><span class="k">def</span> <span class="nf">test_file_name</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Testing the file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filePath</span> <span class="o">=</span> <span class="s1">&#39;/home/ckenne24/mount/collaborative/portal-origins-part-2/Pipeline/the_LATEST/sys_PY/py_MODULES/network2local/test/test_maya_network2local_project/scenes&#39;</span>
    <span class="n">exampleFileName1</span> <span class="o">=</span> <span class="s2">&quot;s001_ckenne24_007_uving.0001.mb&quot;</span>
    <span class="n">exampleFileName2</span> <span class="o">=</span> <span class="s1">&#39;test_parent_project.0002.ma&#39;</span>

    <span class="n">filePath</span> <span class="o">=</span> <span class="s1">&#39;/home/ckenne24/mount/collaborative/portal-origins-part-2/Pipeline/the_LATEST/sys_PY/py_MODULES/network2local/test/test_maya_network2local_project/scenes&#39;</span>
    <span class="n">fileName</span> <span class="o">=</span> <span class="s1">&#39;s001_ckenne24_007_uving.0001.ma&#39;</span>
    <span class="n">fullPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">filePath</span><span class="p">,</span> <span class="n">fileName</span><span class="p">)</span>
    <span class="n">regex</span> <span class="o">=</span> <span class="n">consts</span><span class="o">.</span><span class="n">RE_FILENAME_MATCH</span>
    <span class="n">file_h</span> <span class="o">=</span> <span class="n">FileCheckoutMaya</span><span class="p">(</span><span class="n">filePath</span><span class="o">=</span><span class="n">fullPath</span><span class="p">)</span>

    <span class="c1"># a = FileCheckoutMaya(filePath, exampleFileName2, consts.RE_FILENAME_MATCH)</span>
    <span class="c1"># a = FileCheckoutMaya(filePath=filePath, fileName=exampleFileName1, regex=consts.RE_FILENAME_MATCH)</span>
    <span class="c1"># print a.check_naming_convention()</span>

    <span class="c1"># match = re.match(consts.RE_FILENAME_MATCH, exampleFileName1)</span>
    <span class="c1"># if match is None:</span>
    <span class="c1">#     print(&quot;Something went wrong&quot;)</span>
    <span class="c1"># else:</span>
    <span class="c1">#     print self._match.groups()</span>
    <span class="k">pass</span></div>
<span class="c1"># end test_file_name</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">__doc__</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Colin Kennedy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>