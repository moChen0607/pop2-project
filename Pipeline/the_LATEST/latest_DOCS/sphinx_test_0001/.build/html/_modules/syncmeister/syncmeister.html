

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>syncmeister.syncmeister &mdash; Portal: Origins [Part 2] 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Portal: Origins [Part 2] 1.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Portal: Origins [Part 2]
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../userguide.html">The Definitive User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../administration.html">Administrative Portal</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Portal: Origins [Part 2]</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>syncmeister.syncmeister</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for syncmeister.syncmeister</h1><div class="highlight"><pre>
<span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The main GUI/command-line utility for the absolute to relative path utility.</span>
<span class="sd">The script expects and changes Maya ASCII files so that all absolute paths</span>
<span class="sd">become relative to a specific location that the user defines as the root path.</span>

<span class="sd">This script was made due to a bug in the latest Renderman, where paths that</span>
<span class="sd">were set relatively in the Maya session were being stored as absolute paths</span>
<span class="sd">on save and save/exit. This caused many problems with our render farm</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># IMPORT STANDARD LIBRARIES</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="c1"># IMPORT THIRD PARTY LIBRARIES</span>
<span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span>

<span class="c1"># IMPORT LOCAL LIBRARIES</span>
<span class="kn">import</span> <span class="nn">fileio.controller.paths</span> <span class="kn">as</span> <span class="nn">paths</span>
<span class="kn">import</span> <span class="nn">view.maingui</span> <span class="kn">as</span> <span class="nn">maingui</span>
<span class="kn">import</span> <span class="nn">controller.manager</span> <span class="kn">as</span> <span class="nn">manager</span>
<span class="kn">import</span> <span class="nn">controller.maya</span> <span class="kn">as</span> <span class="nn">maya</span>


<span class="n">__version__</span> <span class="o">=</span> <span class="mf">1.0</span>


<span class="k">class</span> <span class="nc">UIExtension</span><span class="p">(</span><span class="n">maingui</span><span class="o">.</span><span class="n">Window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extends the layout given from backup_ui with accept/reject functions as well</span>
<span class="sd">    as performs the main backup sequence. This class is where all the imported</span>
<span class="sd">    modules are leveraged</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UIExtension</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_want_to_close</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ok_cancel_b</span><span class="o">.</span><span class="n">accepted</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">accept</span><span class="p">)</span>

    <span class="c1"># end __init__</span>
    <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        The main function that passes the args within the GUI to syncmeister</span>

<span class="sd">        Before execution it displays a window that provides a synopsis of</span>
<span class="sd">        what will be changed/kept/ignored and for each path</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># embed data to DATADICT</span>
        <span class="c1"># process lineEdits</span>
        <span class="c1">#</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">):</span>
            <span class="n">formText</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">text</span><span class="p">())</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;pathSep_le&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">formText</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span> <span class="ow">or</span> <span class="n">formText</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">formText</span>
            <span class="k">elif</span> <span class="n">f</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;root_path_le&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s2">&quot;rootPath&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">formText</span>
            <span class="k">elif</span> <span class="n">f</span><span class="o">.</span><span class="n">objectName</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;folder_file_le&quot;</span> <span class="ow">and</span> <span class="n">formText</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">formText</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]:</span>
                    <span class="c1"># value is unique (aka, not a duplicate)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]</span> <span class="o">=</span> \
                        <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;items&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">formText</span><span class="p">]</span>

        <span class="c1"># process checkBoxes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span><span class="p">[</span><span class="s1">&#39;backupFile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">backupFile_cb</span><span class="o">.</span><span class="n">isChecked</span><span class="p">()</span>

        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Take a look at these settings before continuing:</span><span class="se">\n\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Root Path selected: &quot;{rp}&quot;</span><span class="se">\n\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;The following file(s)/folder(s) will be affected:</span><span class="se">\n</span><span class="s1">{f}</span><span class="se">\n\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Search all folders/subfolders? &quot;{cb}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Backup files before processing? &quot;{bc}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Search for relative paths above root path? &quot;{seek}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Only change paths if they are a file or folder? &quot;{ex}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Choosen separator? &quot;{sep}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Search Maya files recursively for other files? &quot;{m}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Skip user confirmation even if path OS differs? &quot;{sc}&quot;</span><span class="se">\n</span><span class="s1">&#39;</span>\
                  <span class="s1">&#39;Do not process all strings - skip unknown paths? &quot;{su}&quot;&#39;</span>\
                  <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">msgBox</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span><span class="o">.</span><span class="n">question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                                   <span class="s1">&#39;Message&#39;</span><span class="p">,</span>
                                                   <span class="n">message</span><span class="p">,</span>
                                                   <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">,</span>
                                                   <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">No</span><span class="p">,</span>
                                                   <span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">msgBox</span> <span class="o">==</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Yes</span><span class="p">:</span>
            <span class="c1"># user said yes to the message dialog</span>
            <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Script Execution finished&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># close message box but do not close window</span>
            <span class="c1"># reset dict to default settings</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">DATADICT</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># end accept</span>
<span class="c1"># end UIExtension</span>


<span class="k">def</span> <span class="nf">show_gui</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The main execution of the GUI</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">UIExtension</span><span class="p">()</span>

    <span class="n">w</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Change Maya Paths &#39;</span>
                     <span class="s1">&#39;(Now with GUI!) v{}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">__version__</span><span class="p">))</span>
    <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
<span class="c1"># end show_gui</span>


<span class="k">def</span> <span class="nf">backup_file</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The function that runs if backups are checked within syncmeister</span>

<span class="sd">    Args:</span>
<span class="sd">        f (str): The full path to the file/folder</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: The full path that backup_file was passed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># backup file before processing</span>
    <span class="n">backupDir</span><span class="p">,</span> <span class="n">backupFile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitdrive</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">backupFile</span><span class="p">,</span> <span class="n">backupExtension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">backupFile</span><span class="p">)</span>
    <span class="n">backupLocation</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">backupDir</span><span class="p">,</span>
                                  <span class="n">backupFile</span> <span class="o">+</span>
                                  <span class="n">BACKUP_UNIQUE_ID</span> <span class="o">+</span>
                                  <span class="n">backupExtension</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">backupLocation</span><span class="p">):</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copyfile</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">backupLocation</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;[+] File: {} already exists. Backup will &quot;</span>
                       <span class="s2">&quot;not overwrite file&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">backupLocation</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">backupLocation</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">backupLocation</span><span class="p">):</span>
        <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;File: {} was backed up to location, &quot;</span>
                      <span class="s2">&quot;{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">backupLocation</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;[-] File: {} failed to back up to location, &quot;</span>
                       <span class="s2">&quot;{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">backupLocation</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">f</span>
<span class="c1"># end backp_file</span>


<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../syncmeister.html#syncmeister.syncmeister.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">argv</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The command-line utility that is used by default if syncmeister is run</span>
<span class="sd">    from the command-line. (If the file is double-clicked like a shortcut</span>
<span class="sd">    the GUI is automatically opened)</span>

<span class="sd">    Args:</span>
<span class="sd">        --inputs (str): (-i) The path to the project folder or scene file</span>
<span class="sd">        --root-path (str): (-rp) The path that will be used as a root folder.</span>
<span class="sd">                           This is critical for resolving relative paths during</span>
<span class="sd">                           sync</span>
<span class="sd">        --set-relative (bool): (-sr) All paths (relative or absolute) are</span>
<span class="sd">                               automatically made relative after copying</span>
<span class="sd">        --use-gui (bool): (-g) Ignores all other flags and instead runs the</span>
<span class="sd">                          GUI-mode</span>
<span class="sd">        --get-subfolders (bool): (-g) The script will recursively acquire</span>
<span class="sd">                                 subfolders of any folder that the user</span>
<span class="sd">                                 specified</span>
<span class="sd">        --dependencies-include (bool): (-di) Searches recursively within files</span>
<span class="sd">                                       for other files/folders to add</span>
<span class="sd">        --dependencies-only (bool): (-do) Filters folders from file(s)/folder(s)</span>
<span class="sd">                                    and only includes files that are used as</span>
<span class="sd">                                    dependencies for scene files selected</span>
<span class="sd">        --evaluate (bool): (-e) If enabled, considers all paths</span>
<span class="sd">                           (relative/absolute/unknown). If disabled, only</span>
<span class="sd">                           evaluates absolute paths</span>
<span class="sd">        --evaluate-absolutes (bool): (-ea) Note, as a version 1.0.0, this does</span>
<span class="sd">                                     nothing. If implemented, it will change</span>
<span class="sd">                                     relative paths into absolute paths on copy</span>
<span class="sd">        --ignored-locked (bool): (-l) If specified, copies file(s)/folder(s)</span>
<span class="sd">                                 even if they are set to locked</span>
<span class="sd">        --seek-path (bool): (-sp) Even if a path is above and/or lateral to the</span>
<span class="sd">                            parent path, the script will aggressively search and</span>
<span class="sd">                            resolve it. Warning: Use with caution</span>
<span class="sd">        --empty-copying (bool): (-ec) Copies file(s)/folder(s) even if empty</span>
<span class="sd">        --pass-unknown (bool): (-pu) Paths that cannot be proven as absolute or</span>
<span class="sd">                               relative are skipped when enabled. Recommended to</span>
<span class="sd">                               keep on unless copy performance is an issue</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># General</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Make Maya Paths Relative.&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="s1">&#39;--inputs&#39;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;inputs&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The path to a project folder or scene file(s)&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-rp&#39;</span><span class="p">,</span> <span class="s1">&#39;--root-path&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;rootPath&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;The root path which will be used as a &#39;</span>
                             <span class="s1">&#39;reference for all relative paths, if make&#39;</span>\
                             <span class="s1">&#39;relative paths has been enabled&#39;</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Makes all paths of the copied files relative to &#39;</span>\
              <span class="s1">&#39;its new copy location&#39;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-sr&#39;</span><span class="p">,</span> <span class="s1">&#39;--set-relative&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;setRelative&#39;</span><span class="p">,</span>
                        <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-g&#39;</span><span class="p">,</span> <span class="s1">&#39;--use-gui&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;useGui&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;When included, ignores all other options and&#39;</span>
                             <span class="s1">&#39;runs the GUI version of the script&#39;</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-s&#39;</span><span class="p">,</span> <span class="s1">&#39;--get-subfolders&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;getSubfolders&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Makes the script iterate through all subfolders &#39;</span>
                             <span class="s1">&#39;of the specified folders specified (if any)&#39;</span><span class="p">)</span>

    <span class="c1"># Application-specific args</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Takes the regular listings for files/folders and &#39;</span>\
              <span class="s1">&#39;also searches valid scene files for additional files/folders&#39;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-di&#39;</span><span class="p">,</span> <span class="s1">&#39;--dependencies-include&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;dependenciesInclude&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Filters folders from files/folders listing and only copies &#39;</span>\
              <span class="s1">&#39;the files/folders necessary to build any valid scene files &#39;</span>\
              <span class="s1">&#39;specified&#39;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-do&#39;</span><span class="p">,</span> <span class="s1">&#39;--dependencies-only&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;dependenciesOnly&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;File dependencies, if searched, will process absolute and &quot;</span>\
              <span class="s2">&quot;relative paths if enabled. If disabled, only absolute paths &quot;</span>\
              <span class="s2">&quot;will be processed. (Requires -di/--dependencies-include)&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-e&#39;</span><span class="p">,</span> <span class="s1">&#39;--evaluate&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;evalAllPaths&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;NOTE: currently does nothing in the current version as of 1.0.&quot;</span>\
              <span class="s2">&quot; File dependencies, if searched, returns relative paths as &quot;</span>\
              <span class="s2">&quot;absolute paths if enabled. (Requires -e/--evaluate)&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-ea&#39;</span><span class="p">,</span> <span class="s1">&#39;--evaluate-absolutes&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;evaluateAsAbsolutes&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;If specified, copies files/folders even if they are locked&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-l&#39;</span><span class="p">,</span> <span class="s1">&#39;--ignore-locked&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;ignoreLocked&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>

    <span class="c1"># abs2rel args</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;If specified, relative paths will be fulfilled even if the &quot;</span>\
              <span class="s2">&quot;path is above or lateral, relative to the root path. The &quot;</span>\
              <span class="s2">&quot;script will seek up until it reaches a common directory &quot;</span>\
              <span class="s2">&quot;between the path and the root&quot;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-sp&#39;</span><span class="p">,</span> <span class="s1">&#39;--seek-path&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;seek&quot;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-ec&#39;</span><span class="p">,</span> <span class="s1">&#39;--empty-copying&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;emptyCopying&#39;</span><span class="p">,</span>
                        <span class="n">help</span><span class="o">=</span><span class="s1">&#39;If specified, script will copy files/folders &#39;</span>
                             <span class="s1">&#39;even if they are empty&#39;</span><span class="p">)</span>
    <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;To some degree, strings can be &quot;proven&quot; to be absolute or &#39;</span>\
              <span class="s1">&#39;relative paths without necessarily knowing if the path exists.&#39;</span>\
              <span class="s1">&#39; Strings that cannot be proven can still be processed however.&#39;</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-pu&#39;</span><span class="p">,</span> <span class="s1">&#39;--pass-unknown&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">,</span>
                        <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;passUnknownPaths&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="c1"># Init the logger</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span> <span class="s2">&quot;frozen&quot;</span><span class="p">):</span>
        <span class="c1"># Forbid all console outputs</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span> <span class="o">=</span> <span class="n">BlackHole</span><span class="p">()</span>
        <span class="n">Logger</span><span class="p">(</span><span class="n">defaultStreamHandler</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">Logger</span><span class="p">()</span>

    <span class="c1"># Create the buffer for GUI log</span>
    <span class="n">logStream</span> <span class="o">=</span> <span class="n">LogBuffer</span><span class="p">()</span>
    <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">addStreamHandler</span><span class="p">(</span><span class="n">logStream</span><span class="p">)</span>
    <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>

    <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Starting </span><span class="si">%s</span><span class="s2">...&quot;</span> <span class="o">%</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
    <span class="n">Logger</span><span class="p">()</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;main(): platform=</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">config</span><span class="o">.</span><span class="n">platform</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">useGui</span><span class="p">:</span>
        <span class="c1"># run the GUI, don&#39;t execute anything below it</span>
        <span class="n">show_gui</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">0</span>

    <span class="c1"># required</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">setRelative</span> <span class="ow">and</span> <span class="n">args</span><span class="o">.</span><span class="n">rootPath</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> \
            <span class="ow">or</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">rootPath</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Path: {} is invalid. Please use a a valid folder to &quot;</span>
                 <span class="s2">&quot;reference the relative paths towards &quot;</span>
                 <span class="s2">&quot;(-rp or --root-path)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">rootPath</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">inputs</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;No files/folders was specified (-i or --input)&quot;</span><span class="p">)</span>



    <span class="c1"># init optional args</span>
    <span class="c1"># ::TO DO:: Come back to this and complete it. Currently unfinished</span>
    <span class="c1"># not all optional args are represented</span>
    <span class="c1">#</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span> <span class="o">==</span> <span class="p">[]:</span>
        <span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">elif</span> <span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;//&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\\\\</span><span class="s1">&#39;</span><span class="p">]:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s2">&quot;Separator: {} is invalid. &quot;</span>
                 <span class="s2">&quot;Please re-run &#39;/&#39;, &#39;//&#39;, &#39;</span><span class="se">\\</span><span class="s2">&#39;, &#39;</span><span class="se">\\\\</span><span class="s2">&#39;, or nothing &#39;&#39;. &quot;</span>
                 <span class="s2">&quot;Script cannot continue...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">forceOSPaths</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="n">level</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">recursive</span><span class="p">:</span>
        <span class="n">level</span> <span class="o">=</span> <span class="mi">9001</span>  <span class="c1"># some really impossibly high number that&#39;s &gt; 256</span>

    <span class="c1"># Get files/folders</span>
    <span class="c1"># ::TO DO:: Remove hard coding of &quot;output&quot; and replace with a user argument</span>
    <span class="n">fileFolders</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fileFoldersAll</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># list of all files/folders without filtering</span>
    <span class="n">fileObj</span> <span class="o">=</span> <span class="n">maya</span><span class="o">.</span><span class="n">FileObject</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">inputs</span><span class="p">:</span>
        <span class="n">items</span> <span class="o">=</span> <span class="n">paths</span><span class="o">.</span><span class="n">walkLevel</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="s2">&quot;FILES+FOLDERS&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">items</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">emptyCopying</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
                <span class="c1"># copy the file/folder</span>
                <span class="n">fileFolders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
                <span class="c1"># Keep a list of all files/folders. We&#39;ll need it for later</span>
                <span class="c1"># shutil is used to copy the entire file/folder tree in 1 pass</span>
                <span class="c1"># fileFoldersAll is referenced against fileFolders</span>
                <span class="c1"># to determine which files/folders to ignore</span>
                <span class="c1">#</span>
                <span class="n">fileFoldersAll</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> \
                    <span class="ow">and</span> <span class="n">paths</span><span class="o">.</span><span class="n">get_size</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> \
                    <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span> \
                    <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span class="o">.</span><span class="n">st_size</span> <span class="o">!=</span> <span class="mi">0</span> \
                    <span class="ow">and</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">emptyCopying</span><span class="p">:</span>
                <span class="c1"># copy the file/folder</span>
                <span class="n">fileFolders</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>

    <span class="c1"># Filter files/folders based on user arguments</span>
    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">onlyDependencyFiles</span><span class="p">:</span>
        <span class="n">fileFolders</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fileFolders</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
                       <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">fileObj</span><span class="o">.</span><span class="n">fileExtensionsASCII</span><span class="p">)]</span>

    <span class="k">if</span> <span class="n">args</span><span class="o">.</span><span class="n">includeDependencies</span><span class="p">:</span>
        <span class="c1"># this is basically the abs2rel script but it outputs paths</span>
        <span class="c1"># rather than writing the paths to file</span>
        <span class="c1"># :::TO DO::: I could output the line and line number and just</span>
        <span class="c1"># have another script read the kwargs and replace lines are it reads!!</span>
        <span class="c1"># that way I could use one script for both of these utilities</span>
        <span class="c1">#</span>
        <span class="c1"># ::TO DO:: complete the args listing for this pseudo - function</span>
        <span class="c1"># also, complete the function (duh)</span>
        <span class="c1"># :::TO DO:::ID A1514 - see notes</span>
        <span class="n">fileFolders</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="n">get_dependency_paths</span><span class="p">(</span><span class="n">asAbsolute</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

        <span class="c1"># conform all paths to a single seperator type</span>
        <span class="c1"># ::TO DO:: ::AUTHORNOTE:: I may want to add back in &quot;forceSep&quot;</span>
        <span class="c1"># so that users can control this</span>
        <span class="c1">#</span>
        <span class="c1"># fileFolders = [paths.replace_sep_with_string(f) for f in fileFolders]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">evalAllPaths</span><span class="p">:</span>
            <span class="n">fileFolders</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fileFolders</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">paths</span><span class="o">.</span><span class="n">is_relative</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span>

        <span class="c1"># normalize pathseps</span>
        <span class="c1"># remove duplicates</span>
        <span class="c1"># remove parent directories that contain subfolders</span>
        <span class="c1"># remove locked files if override not specified</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">args</span><span class="o">.</span><span class="n">ignoreLocked</span><span class="p">:</span>
            <span class="c1"># ::PROJECT SPECIFIC::</span>
            <span class="c1"># :::TO DO::: REPLACE LATER with the main function</span>
            <span class="n">fileFolders</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fileFolders</span> <span class="k">if</span> <span class="n">paths</span><span class="o">.</span><span class="n">is_locked</span><span class="p">(</span><span class="n">f</span><span class="p">)]</span>

        <span class="n">fileFolders</span> <span class="o">=</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fileFolders</span><span class="p">]</span>
        <span class="n">fileFolders</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">fileFolders</span><span class="p">))</span>

    <span class="c1"># process files by making them relative to the new copy location</span>
    <span class="c1"># add the strings into the copy location as the destination path</span>
    <span class="c1"># copy all files/folders</span>
    <span class="c1"># ::AUTHORNOTE:: what did I mean when I wrote this?</span>
    <span class="c1">#</span>

    <span class="n">ignoredPaths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">fileFoldersAll</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">fileFolders</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fileFolders</span><span class="p">:</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">rootPath</span><span class="p">,</span> <span class="n">ignore</span><span class="o">=</span><span class="n">ignoredPaths</span><span class="p">)</span></div>
    <span class="c1"># manager.mkdir_p(f) for</span>


    <span class="c1"># mayaFile = maya.FileObject()</span>
    <span class="c1"># mayaFile.path = f</span>
    <span class="c1"># contents = mayaFile.read_ma()</span>
    <span class="c1"># manager.change_paths(f,</span>
    <span class="c1">#                      args.rootPath,</span>
    <span class="c1">#                      contents=contents,</span>
    <span class="c1">#                      checkExist=args.checkExists,</span>
    <span class="c1">#                      skipPathConfirmation=args.skipPathConfirmation,</span>
    <span class="c1">#                      searchForMayaFiles=args.searchForMayaFiles,</span>
    <span class="c1">#                      forceOSPaths=args.forceOSPaths,</span>
    <span class="c1">#                      seek=args.seek,</span>
    <span class="c1">#                      passUnknownPaths=args.passUnknownPaths)</span>
<span class="c1"># end main</span>


<span class="c1"># def test_main():</span>
<span class="c1">#     rootPath = r&quot;C:\Users\SelecaoOne\Dropbox\Private\my_ENV\sys_PY\py_MODULES\abs2relpaths\test\new\created_project&quot;</span>
<span class="c1">#     mayaFilePath = r&quot;C:\Users\SelecaoOne\Dropbox\Private\my_ENV\sys_PY\py_MODULES\abs2relpaths\test\new\created_project\scenes\advanced_test.ma&quot;</span>

<span class="c1">#     import shutil</span>
<span class="c1">#     shutil.copyfile(mayaFilePath, mayaFilePath+&#39;_old&#39;)</span>
<span class="c1">#     if os.path.isfile(mayaFilePath+&quot;_old&quot;):</span>
<span class="c1">#         Logger().info(&quot;Sucessfully copied&quot;)</span>
<span class="c1">#         manager.change_paths(mayaFilePath,</span>
<span class="c1">#                              rootPath,</span>
<span class="c1">#                              checkExist=True,</span>
<span class="c1">#                              skipPathConfirmation=True,</span>
<span class="c1">#                              forceOSPaths=&#39;/&#39;)</span>
<span class="c1">#         # if os.path.isfile(mayaFilePath):</span>
<span class="c1">#         #     os.remove(mayaFilePath)</span>
<span class="c1">#         # os.rename(mayaFilePath+&#39;_old&#39;, mayaFilePath)</span>
<span class="c1">#     else:</span>
<span class="c1">#         Logger().error(&quot;COPY FAILED&quot;)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># Use GUI if the user double-clicks or runs from terminal.</span>
    <span class="c1"># Else, if any flags were passed, parse</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">show_gui</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">main</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Colin Kennedy.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>