// Copyright (C) 1997-2014 Autodesk, Inc., and/or its licensors.
// All rights reserved.
//
// The coded instructions, statements, computer programs, and/or related
// material (collectively the "Data") in these files contain unpublished
// information proprietary to Autodesk, Inc. ("Autodesk") and/or its licensors,
// which is protected by U.S. and Canadian federal copyright law and by
// international treaties.
//
// The Data is provided for use exclusively by You. You have the right to use,
// modify, and incorporate this Data into other products for purposes authorized 
// by the Autodesk software license agreement, without fee.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND. AUTODESK
// DOES NOT MAKE AND HEREBY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTIES
// INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF NON-INFRINGEMENT,
// MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR ARISING FROM A COURSE 
// OF DEALING, USAGE, OR TRADE PRACTICE. IN NO EVENT WILL AUTODESK AND/OR ITS
// LICENSORS BE LIABLE FOR ANY LOST REVENUES, DATA, OR PROFITS, OR SPECIAL,
// DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES, EVEN IF AUTODESK AND/OR ITS
// LICENSORS HAS BEEN ADVISED OF THE POSSIBILITY OR PROBABILITY OF SUCH DAMAGES.

//
//
//  Creation Date:	March 18, 2009
//
//  Procedure Name:
//	AEviewColorManagerTemplate
//
//  Description:
//	Creates the attribute editor controls for the viewColorManager node
//
//  Input Value:
//	nodeName
//
//  Output Value:
//	None
//

global proc AElutBrowser( string $lutAttribute )
{
		string $all = (uiRes("m_AEviewColorManagerTemplate.kAll"));
	    string $lutFilters = 
        ("lustre (*.3dl);;" + "csp (*.csp);;" + "iridas (*.look);;" + "arricube (*.cube);;" + "discreet (*.lut);;" + "avid (*.lut);;" + $all + "(*.*)");

    string $result[] = `fileDialog2 
        -caption (uiRes("m_AEviewColorManagerTemplate.kOpenLut"))
        -fileMode 1
        -fileFilter $lutFilters
        -selectFileFilter "lustre"`;

    string $filename = "";
    if (size($result) > 0)
    {
        $filename = $result[0];
    }

    setAttr $lutAttribute -type "string" $filename;

}

global proc AElutFileNew( string $lutAttribute )
{
    setUITemplate -pst attributeEditorTemplate;
    rowLayout -nc 3 textureNameLayout;
        text -label (uiRes("m_AEviewColorManagerTemplate.kLutFile")) ;
        textField lutFileField;
        symbolButton -image "navButtonBrowse.png" browser;
        setParent ..;
    setUITemplate -ppt;

    AElutFileReplace $lutAttribute;
}

global proc AElutFileReplace (string $lutAttribute)
{
    connectControl -fileName lutFileField $lutAttribute;

    button -e -c
        ("AElutBrowser \"" + $lutAttribute + "\"" ) browser;
}


global proc AEviewColorManagerTemplate ( string $nodeName )
{
    editorTemplate -beginScrollLayout;
	
    editorTemplate -addControl "imageColorProfile";
    editorTemplate -addControl "displayColorProfile";
    editorTemplate -suppress "exposure";
    editorTemplate -suppress "contrast";
    editorTemplate -callCustom "AElutFileNew" "AElutFileReplace" 
        "lutFile";

	//suppressed attributes
	editorTemplate -suppress "contrastPivot";

    editorTemplate -addExtraControls;
    editorTemplate -endScrollLayout;
}
