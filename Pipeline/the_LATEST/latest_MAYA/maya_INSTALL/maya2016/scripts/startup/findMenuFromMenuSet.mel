// Copyright (C) 1997-2014 Autodesk, Inc., and/or its licensors.
// All rights reserved.
//
// The coded instructions, statements, computer programs, and/or related
// material (collectively the "Data") in these files contain unpublished
// information proprietary to Autodesk, Inc. ("Autodesk") and/or its licensors,
// which is protected by U.S. and Canadian federal copyright law and by
// international treaties.
//
// The Data is provided for use exclusively by You. You have the right to use,
// modify, and incorporate this Data into other products for purposes authorized 
// by the Autodesk software license agreement, without fee.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND. AUTODESK
// DOES NOT MAKE AND HEREBY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTIES
// INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF NON-INFRINGEMENT,
// MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR ARISING FROM A COURSE 
// OF DEALING, USAGE, OR TRADE PRACTICE. IN NO EVENT WILL AUTODESK AND/OR ITS
// LICENSORS BE LIABLE FOR ANY LOST REVENUES, DATA, OR PROFITS, OR SPECIAL,
// DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES, EVEN IF AUTODESK AND/OR ITS
// LICENSORS HAS BEEN ADVISED OF THE POSSIBILITY OR PROBABILITY OF SUCH DAMAGES.

//
//
//  Creation Date:  Sept 9, 2005
//
//  Description:
//      This procedure searches for and returns the menu object with the given
//		label in the given menuSet.
//

global proc string findMenuFromMenuSet( string $menuSet, string $label )
//
//  Description:
//		This procedure searches for and returns the menu object with the given
//		label (in the menuBar) in the given menuSet.
//
//	Arguments:
//		string $menuSet the menuSet object to search in. (see findMenuSetFromLabel())
//		string $label the label of the menuSet to be found
//		
//	Return:
//		the men object name of the menu with that label or an empty string
//		if there is none
//
{

	// change to the new menuSet, and get the list of menus in the set
	string $menusArray[] = `menuSet -q -menuArray $menuSet`;

	int $i;
	int $menusArraySize = size($menusArray);
	$lowerLabel = `tolower $label`;

	// go through all the menus in the set ...
	for ($i = 0; $i < $menusArraySize; $i++) {
		if (`menu -q -exists $menusArray[$i]`) {
			string $lbl = `menu -q -l $menusArray[$i]`;
			$lbl = `tolower $lbl`;		

			// ... and compare the labels
			if ($lowerLabel == $lbl) {

				// if menu found, return the menu obj name
				return $menusArray[$i];
			}
		}
	}	

	// if we get to this point, then we can not find a menu with the 
	// specified label.  So we return an empty string.
	//
	return "";
}
