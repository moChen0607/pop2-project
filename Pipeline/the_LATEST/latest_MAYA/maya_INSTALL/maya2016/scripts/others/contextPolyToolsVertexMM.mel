// Copyright (C) 1997-2014 Autodesk, Inc., and/or its licensors.
// All rights reserved.
//
// The coded instructions, statements, computer programs, and/or related
// material (collectively the "Data") in these files contain unpublished
// information proprietary to Autodesk, Inc. ("Autodesk") and/or its licensors,
// which is protected by U.S. and Canadian federal copyright law and by
// international treaties.
//
// The Data is provided for use exclusively by You. You have the right to use,
// modify, and incorporate this Data into other products for purposes authorized 
// by the Autodesk software license agreement, without fee.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND. AUTODESK
// DOES NOT MAKE AND HEREBY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTIES
// INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF NON-INFRINGEMENT,
// MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR ARISING FROM A COURSE 
// OF DEALING, USAGE, OR TRADE PRACTICE. IN NO EVENT WILL AUTODESK AND/OR ITS
// LICENSORS BE LIABLE FOR ANY LOST REVENUES, DATA, OR PROFITS, OR SPECIAL,
// DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES, EVEN IF AUTODESK AND/OR ITS
// LICENSORS HAS BEEN ADVISED OF THE POSSIBILITY OR PROBABILITY OF SUCH DAMAGES.

//
//  Procedure Name:
//      contextPolyToolsVertexMM
//
//  Description:
//      This procedure creates the popup/marking menu
//      for poly vertex tools. See ModelEdMenu.
//
//  Input Arguments:
//      None
//
//  Return Value:
//      None.


global proc contextPolyToolsVertexMM(){

	int $mtkEnable = (`pluginInfo -q -loaded "modelingToolkit"`);

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kExtrudeVertex"))
				-command "performPolyExtrude 0" 
				-radialPosition "S" 
				-enableCommandRepeat 1
				-image "polyExtrudeVertex.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kExtrudeVertexOptions"))
				-command "performPolyExtrude 1" 
				-optionBox 1
				-radialPosition "S" 
				-enableCommandRepeat 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kChamferVertex"))
				-command "ChamferVertex" 
				-radialPosition "E" 
				-enableCommandRepeat 1
				-image "polyChamfer.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kChamferVertexOptions"))
				-command "ChamferVertexOptions" 
				-optionBox 1
				-radialPosition "E" 
				-enableCommandRepeat 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kDeleteVertex"))
				-command "DeleteVertex" 
				-radialPosition "SW" 
				-enableCommandRepeat 1
				-image "polyDelVertex.png" 
				;


			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kVertexNormals"))
				-subMenu 1
				-tearOff 0
				-radialPosition "SE" 
				-allowOptionBoxes 1
				-postMenuCommandOnce 0
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kToggleVertexNormalDisplay"))
				-command "polyOptions -r -pt -dn on" 
				-radialPosition "S" 
				-enableCommandRepeat 1
				-image "commandButton.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kAverageNormals"))
				-command "AveragePolygonNormals" 
				-radialPosition "NE" 
				-enableCommandRepeat 1
				-image "polyNormalAverage.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kAverageNormalsOptions"))
				-command "AveragePolygonNormalsOptions" 
				-optionBox 1
				-radialPosition "NE" 
				-enableCommandRepeat 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kVertexNormalEditTool"))
				-command "PolygonNormalEditTool" 
				-radialPosition "E" 
				-enableCommandRepeat 1
				-image "vertexNormalEdit.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kSetNormalsToFace"))
				-command "SetToFaceNormals" 
				-radialPosition "SE" 
				-enableCommandRepeat 1
				-image "polyNormalSetToFace.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kSetNormalsToFaceOptions"))
				-command "SetToFaceNormalsOptions" 
				-optionBox 1
				-radialPosition "SE" 
				-enableCommandRepeat 1
				;

			setParent -m ..;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kMergeVerticesMenu"))
				-subMenu 1
				-tearOff 0
				-radialPosition "N" 
				-allowOptionBoxes 1
				-postMenuCommandOnce 0
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kMergeVertices"))
				-command "performPolyMerge 0" 
				-radialPosition "NE" 
				-enableCommandRepeat 1
				-image "polyMergeVertex.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kMergeVerticesOptions"))
				-command "performPolyMerge 1" 
				-optionBox 1
				-radialPosition "NE" 
				-enableCommandRepeat 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kMergeVerticesToCenter"))
				-command "MergeToCenter" 
				-radialPosition "N" 
				-enableCommandRepeat 1
				;		

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kPolyBuildMergeVertTool"))
				-annotation (getRunTimeCommandAnnotation("MergeVertexTool"))
				-image "weld_NEX32.png" 
				-radialPosition "S"
				-command "MergeVertexTool" 
				;

			menuItem -optionBox true
				-annotation (getRunTimeCommandAnnotation("MergeVertexToolOptions"))
				-image "weld_NEX32.png" 
				-radialPosition "S" 
				-command "MergeVertexToolOptions"
				;

			setParent -m ..;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kAverageVertices"))
				-command "AverageVertex" 
				-radialPosition "NE" 
				-enableCommandRepeat 1
				-image "polyAverageVertex.png" 
				;

			menuItem
				-version "2015"
				-label (uiRes("m_PolygonsBuildToolsMenu.kMTKMultiCutTool"))
				-command "dR_multiCutTool"
				-en $mtkEnable
				-radialPosition "W" 
				-allowOptionBoxes 1
				;

			menuItem
				-label (uiRes("m_PolygonsBuildToolsMenu.kMTKMultiCutToolOptions"))
				-command "dR_multiCutTool; toolPropertyWindow;" 
				-optionBox 1
				-radialPosition "W" 
				-enableCommandRepeat 1
				-enable $mtkEnable
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kPaintSelectVertices"))
				-command "ArtPaintSelectTool" 
				-radialPosition "NW" 
				-enableCommandRepeat 1
				-image "artSelect.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kCreaseTool"))
				-command "PolyCreaseTool" 
				-enableCommandRepeat 1
				-image "polyCrease.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kCreaseToolOptions"))
				-command "PolyCreaseToolOptions" 
				-optionBox 1
				-enableCommandRepeat 1
				-image "polyCrease.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kConnectComponents"))
				-annotation (getRunTimeCommandAnnotation("ConnectComponents"))
				-image "polyConnectComponents.png"
				-enableCommandRepeat 1
				-command "ConnectComponents" 
				;

			menuItem -optionBox true
				-label (uiRes("m_contextPolyToolsVertexMM.kConnectComponentsOptions"))
				-annotation (getRunTimeCommandAnnotation("ConnectComponentsOptions"))
				-image "polyConnectComponents.png"
				-enableCommandRepeat 1
				-command "ConnectComponentsOptions" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsEdgeMM.kDetach"))
				-annotation (getRunTimeCommandAnnotation("DetachComponent"))
				-image "polySplitVertex.png"
				-enableCommandRepeat 1
				-command "DetachComponent" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kTransformComponent"))
				-command "MovePolygonComponent;" 
				-enableCommandRepeat 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kTransformComponentOptions"))
				-command "MovePolygonComponentOptions" 
				-optionBox 1
				-enableCommandRepeat 1
				;

			menuItem
				-version 2015
				-label (uiRes("m_contextPolyToolsVertexMM.kMTKConnectTool"))
				-annotation (uiRes("m_contextPolyToolsVertexMM.kMTKConnectToolAnn"))
				-command "dR_connectTool" 
				-enable $mtkEnable
				MTKConnectToolMM;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kConnectToolOptions"))
				-command "dR_connectTool; toolPropertyWindow;" 
				-optionBox 1
				-enableCommandRepeat 1
				-enable $mtkEnable
				;

			menuItem
				-divider 1
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kApplyColor"))
				-command "PolygonApplyColor" 
				-enableCommandRepeat 1
				-image "polyApplyColor.png" 
				;

			menuItem
				-label (uiRes("m_contextPolyToolsVertexMM.kApplyColorOptions"))
				-command "PolygonApplyColorOptions" 
				-optionBox 1
				-enableCommandRepeat 1
				;

			menuItem
				-divider 1
				;

	    menuItem
	        -label (uiRes("m_contextPolyToolsVertexMM.kPolygonDisplay"))
	        -subMenu 1
	        -allowOptionBoxes 1
	        -postMenuCommandOnce 0
	        ;

	
	        menuItem
	            -label (uiRes("m_contextPolyToolsVertexMM.kToggleBackfaceCulling"))
	            -command "int $cond[1]=`polyOptions -q -fb`; if ($cond[0]) polyOptions -bc; else polyOptions -fb;" 
	            -enableCommandRepeat 1
	            -image "commandButton.png" 
	            ;
	
	        menuItem
	            -divider 1
	            ;
			
			
			menuItem
	            -label (uiRes("m_contextPolyToolsVertexMM.kToggleVertices"))
	            -command "polyOptions -r -displayVertex 1" 
	            -enableCommandRepeat 1
	            -image "menuIconDisplay.png" 
	            ;
			
			
			menuItem
	            -label (uiRes("m_contextPolyToolsVertexMM.kToggleVertexNormals"))
	            -command "polyOptions -r -pt -dn on" 
	            -enableCommandRepeat 1
	            -image "commandButton.png" 
	            ;

			
	        menuItem
	            -label (uiRes("m_contextPolyToolsVertexMM.kToggleVertexNumbers"))
	            -command "polyOptions -activeObjects -r -din 1 0 0 0" 
	            -enableCommandRepeat 1
	            -image "menuIconDisplay.png" 
	            ;
	
			
	        menuItem
	            -divider 1
	            ;
	
	        menuItem
	            -label (uiRes("m_contextPolyToolsVertexMM.kResetPolygonDisplay"))
	            -command "polyOptions -activeObjects -ae  -sb 3  -db 0  -dmb 0  -dv 0  -dn 0 -facet  -dc 0  -dt 0  -dw 0  -din 0 0 0 0  -sn 0.4 -bc  -duv 0  -uvt 0  -cs 0  -cm diffuse  -bcv 1" 
	            -enableCommandRepeat 1
	            -image "commandButton.png" 
	            ;
			
			setParent -menu ..;

		setParent -menu ..;

}
