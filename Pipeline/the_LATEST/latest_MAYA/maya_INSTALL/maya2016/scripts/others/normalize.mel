// Copyright (C) 1997-2014 Autodesk, Inc., and/or its licensors.
// All rights reserved.
//
// The coded instructions, statements, computer programs, and/or related
// material (collectively the "Data") in these files contain unpublished
// information proprietary to Autodesk, Inc. ("Autodesk") and/or its licensors,
// which is protected by U.S. and Canadian federal copyright law and by
// international treaties.
//
// The Data is provided for use exclusively by You. You have the right to use,
// modify, and incorporate this Data into other products for purposes authorized 
// by the Autodesk software license agreement, without fee.
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND. AUTODESK
// DOES NOT MAKE AND HEREBY DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTIES
// INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF NON-INFRINGEMENT,
// MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR ARISING FROM A COURSE 
// OF DEALING, USAGE, OR TRADE PRACTICE. IN NO EVENT WILL AUTODESK AND/OR ITS
// LICENSORS BE LIABLE FOR ANY LOST REVENUES, DATA, OR PROFITS, OR SPECIAL,
// DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES, EVEN IF AUTODESK AND/OR ITS
// LICENSORS HAS BEEN ADVISED OF THE POSSIBILITY OR PROBABILITY OF SUCH DAMAGES.

//
//
//<doc>
//<name normalize>
//
//<synopsis>
//		int normalize( float $v[] )
//
//<description>
//		Normalizes a float array of 3 values.
//
//<flags>
//		float[]	$v	Array of 3 floats to be normalized
//
//<returns>
//		int : -1 if the float array was zero length.
//		       1 if the normalized vector was successfully calculated.
//
//<examples>
//
//	float $v0[] = {3,6,9};
//	normalize($v0);
//	// Results: 1 //
//
//</doc>
//
global proc int normalize( float $v[] )
{
	if ( size($v) != 3 ) 
		warning (uiRes("m_normalize.kGiveFloatArray"));

	float $factor = 1.0;
	float $len = $v[0]*$v[0] + $v[1]*$v[1] + $v[2]*$v[2];

	if( $len == 0.0 ) return -1;
	else $factor = 1.0/sqrt($len);

	if ( $factor != 1.0 )
	{
		$v[0] *= $factor;
		$v[1] *= $factor;
		$v[2] *= $factor;
	}

	return 1;
}
