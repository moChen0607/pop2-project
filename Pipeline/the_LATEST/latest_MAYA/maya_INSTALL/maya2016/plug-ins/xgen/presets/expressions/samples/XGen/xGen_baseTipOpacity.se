$ylen = $u*50;  # preview hack
$tipopacity=0.000;
$tipscale = 5.000; # 1.0,5.0
$baseopacity =0.000;
$basescale =5.000; # 1.0,5.0

$c1 = clamp($basescale/$ylen, 0, .5);
$c2 = 1-clamp($tipscale/$ylen, 0, .5);
$v = $v / $u;   # preview hack
$v > 1 ? 1 :     # preview hack
$v < $c1 ? gaussstep($v, 0, $c1) -> fit(0, 1, $baseopacity, 1) :
$v > $c2 ? gaussstep($v, 1, $c2) -> fit(0, 1, $tipopacity, 1) : 1